<!DOCTYPE html>
<!-- saved from url=(0444)https://disqus.com/embed/comments/?base=default&f=zyearnsblog&t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&s_o=default#version=d3a5970415e73b8455175a98b1861579 -->
<html lang="en" dir="ltr" class="js no-touch localstorage sessionstorage contenteditable use-opacity-transitions"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Disqus Comments</title>

    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <style>
        .alert--warning {
            border-radius: 3px;
            padding: 10px 15px;
            margin-bottom: 10px;
            background-color: #FFE070;
            color: #A47703;
        }

        .alert--warning a,
        .alert--warning a:hover,
        .alert--warning strong {
            color: #A47703;
            font-weight: bold;
        }

        .alert--error p,
        .alert--warning p {
            margin-top: 5px;
            margin-bottom: 5px;
        }
        
        </style>
    
    <style>
        html {
            overflow: hidden;
        }

        #error {
            display: none;
        }

        .clearfix:after {
            content: "";
            display: block;
            height: 0;
            clear: both;
            visibility: hidden;
        }

        
    </style>

<script src="./cb=gapi.loaded_0" async=""></script><script crossorigin="anonymous" id="bootstrap-script" data-app="lounge" src="./lounge.load.d3a5970415e73b8455175a98b1861579.js"></script><meta http-equiv="Content-Security-Policy" content="script-src https:;"><link rel="stylesheet" href="./lounge.1338080c7d626298e3eb715cb658042e.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="lounge/main" src="./lounge.bundle.9c5e9911b88094ee43deca4e32c55daf.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="remote/config" src="./config.js"></script><style id="css_1493891054967"></style><!--<base target="_parent">--><base href="." target="_parent"><link rel="stylesheet" href="./discovery.ec9371c4ef39ecee074c2acf24d5e0e2.css"><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="ga" src="./ga.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="discovery/main" src="./discovery.bundle.981471fcafcd84f5610732cc9a566cfd.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="fb" src="./sdk.js"></script><script type="text/javascript" charset="utf-8" async="" data-requirecontext="_" data-requiremodule="gapi" src="./api.js" gapi_processed="true"></script><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_reposition{overflow:hidden;position:relative}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}@keyframes fb_transform{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.fb_animate{animation:fb_transform .3s forwards}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent}.fb_dialog_close_icon:active{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent}.fb_dialog_loader{background-color:#f6f7f9;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #365899;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{width:auto;height:auto;min-height:initial;min-width:initial;background:none}.fb_dialog.fb_dialog_mobile.loading.centered #fb_dialog_loader_spinner{width:100%}.fb_dialog.fb_dialog_mobile.loading.centered .fb_dialog_content{background:none}.loading.centered #fb_dialog_loader_close{color:#fff;display:block;padding-top:20px;clear:both;font-size:18px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;bottom:0;left:0;right:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29487d;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f6f7f9;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}#fb_dialog_loader_spinner{animation:rotateSpinner 1.2s linear infinite;background-color:transparent;background-image:url(https://static.xx.fbcdn.net/rsrc.php/v3/yD/r/t-wz8gw1xG1.png);background-repeat:no-repeat;background-position:50% 50%;height:24px;width:24px}@keyframes rotateSpinner{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_fluid_desktop,.fb_iframe_widget_fluid_desktop span,.fb_iframe_widget_fluid_desktop iframe{max-width:100%}.fb_iframe_widget_fluid_desktop iframe{min-width:220px;position:relative}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(https://static.xx.fbcdn.net/rsrc.php/v3/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}</style></head>
<body class="serif">
    

    
    <div id="error" class="alert--error">
        <p>We were unable to load Disqus. If you are a moderator please see our <a href="https://docs.disqus.com/help/83/"> troubleshooting guide</a>. </p>
    </div>

    
    <script type="text/json" id="disqus-forumData">{"session":{"canModerate":false,"audienceSyncVerified":false,"mustVerify":false,"canReply":true,"mustVerifyEmail":false},"features":{},"forum":{"raw_guidelines":null,"twitterName":null,"guidelines":null,"favicon":{"permalink":"https://disqus.com/api/forums/favicons/zyearnsblog.jpg","cache":"//a.disquscdn.com/1493423801/images/favicon-default.png"},"disableDisqusBranding":false,"id":"zyearnsblog","createdAt":"2013-08-10T05:32:04.952455","category":null,"founder":"43967986","daysAlive":0,"installCompleted":true,"pk":"2491765","channel":null,"description":null,"raw_description":null,"permissions":{},"name":"zyearn's blog","language":"en","settings":{"supportLevel":0,"adsDRNativeEnabled":false,"colorScheme":"auto","adsVideoEnabled":false,"adsProductVideoEnabled":false,"adsPositionTopEnabled":false,"ssoRequired":false,"unapproveLinks":false,"adsEnabled":false,"adsProductLinksThumbnailsEnabled":false,"adsProductStoriesEnabled":false,"organicDiscoveryEnabled":true,"allowMedia":true,"disable3rdPartyTrackers":false,"adsProductDisplayEnabled":false,"discoveryMax":false,"discoveryLocked":false,"moderatorText":"","linkAffiliationEnabled":false,"allowAnonPost":false,"hasCustomAvatar":false,"adultContent":false,"promotedDiscoveryEnabled":false,"allowAnonVotes":false,"mustVerify":true,"adsSettingsLocked":false,"mustVerifyEmail":true,"audienceSyncEnabled":false,"typeface":"auto","adsPositionBottomEnabled":false,"mediaembedEnabled":true,"adsProductLinksEnabled":false,"validateAllPosts":false,"discoveryThumbnailsEnabled":false,"isVIP":false,"adsPositionInthreadEnabled":false},"organizationId":1918719,"url":"http://zyearn.github.io/","daysThreadAlive":0,"avatar":{"small":{"permalink":"https://disqus.com/api/forums/avatars/zyearnsblog.jpg?size=32","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"https://disqus.com/api/forums/avatars/zyearnsblog.jpg?size=92","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"}},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fzyearn.github.io%2F&key=fgHMiDNP4eMdWJtUj2KFuw"}}</script>

    
    <script type="text/json" id="disqus-threadData">{"cursor":{"hasPrev":false,"prev":null,"total":60,"hasNext":true,"next":"1:0:0"},"code":0,"response":{"lastModified":1479290638,"posts":[{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u4f60\u597d\uff0c\u8bf7\u95ee\u600e\u4e48\u5b66\u4e60\u5b9a\u65f6\u5668\uff1f\u4f60http\u670d\u52a1\u5668\u5f00\u53d1\u7684\u4e66\u7c4d\u8d44\u6599\u63a8\u8350\u7684\u5417\uff1flinux C\u7684\uff1f\uff1f\u8c22\u8c22\u3002\u003c/p>","id":"3004652107","isHighlighted":false,"author":{"name":"\u6bd5\u7adf\u662f\u571f\u7f8a","url":"http://weibo.com/3339902514","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fweibo.com%2F3339902514&key=lP-vTHDQi3CtFNoFPTbqpQ","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-11-06T23:40:31","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u4f60\u597d\uff0c\u8bf7\u95ee\u600e\u4e48\u5b66\u4e60\u5b9a\u65f6\u5668\uff1f\u4f60http\u670d\u52a1\u5668\u5f00\u53d1\u7684\u4e66\u7c4d\u8d44\u6599\u63a8\u8350\u7684\u5417\uff1flinux C\u7684\uff1f\uff1f\u8c22\u8c22\u3002","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>1. Nginx\u6e90\u7801\u7684\u5b9a\u65f6\u5668\u5199\u5f97\u6bd4\u8f83\u4e0d\u9519\u003cbr>2. \u770b\u4e00\u4e9b\u5c0f\u578b\u670d\u52a1\u5668\u6e90\u7801\u3001\u770bUNP\uff0c\u56fd\u5185\u9648\u7855\u7684\u300aLinux\u591a\u7ebf\u7a0b\u670d\u52a1\u5668\u7aef\u7f16\u7a0b\u300b\u003c/p>","id":"3004653319","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-11-07T02:00:35","parent":3004652107,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"1. Nginx\u6e90\u7801\u7684\u5b9a\u65f6\u5668\u5199\u5f97\u6bd4\u8f83\u4e0d\u9519\n2. \u770b\u4e00\u4e9b\u5c0f\u578b\u670d\u52a1\u5668\u6e90\u7801\u3001\u770bUNP\uff0c\u56fd\u5185\u9648\u7855\u7684\u300aLinux\u591a\u7ebf\u7a0b\u670d\u52a1\u5668\u7aef\u7f16\u7a0b\u300b","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u4f60\u597d\uff0c\u53c8\u770b\u4e86\u4e00\u904d\uff0c\u60f3\u95eehttp.c \u6587\u4ef6\u4e2d\uff0c do_request()\u51fd\u6570\u91cc break\u7684\u5730\u65b9\uff0c\u8f6c\u5230\u4e86for\u5faa\u73af\u5916\u51fd\u6570zv_add_timer(r, TIMEOUT_DEFAULT, zv_http_close_conn)\uff0c\u4f46\u662f\u8c8c\u4f3c\u5728\u8fd9\u4e2a\u5730\u65b9\u4e4b\u524d\u7684\u90a3\u4e2ar-&gt;timer_node\u8fd8\u6ca1\u6709\u91ca\u653e\uff1f\u003c/p>","id":"3004652108","isHighlighted":false,"author":{"name":"vincentcab","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-09-29T13:47:57","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u4f60\u597d\uff0c\u53c8\u770b\u4e86\u4e00\u904d\uff0c\u60f3\u95eehttp.c \u6587\u4ef6\u4e2d\uff0c do_request()\u51fd\u6570\u91cc break\u7684\u5730\u65b9\uff0c\u8f6c\u5230\u4e86for\u5faa\u73af\u5916\u51fd\u6570zv_add_timer(r, TIMEOUT_DEFAULT, zv_http_close_conn)\uff0c\u4f46\u662f\u8c8c\u4f3c\u5728\u8fd9\u4e2a\u5730\u65b9\u4e4b\u524d\u7684\u90a3\u4e2ar->timer_node\u8fd8\u6ca1\u6709\u91ca\u653e\uff1f","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u4e0d\u597d\u610f\u601d.\u6211\u77e5\u9053\u4e86\uff0ctimer_node\u90fd\u4ea4\u7ed9\u4e86zv_timer\u7ba1\u7406\u003c/p>","id":"3004653316","isHighlighted":false,"author":{"name":"vincentcab","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-09-29T14:52:21","parent":3004652108,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u4e0d\u597d\u610f\u601d.\u6211\u77e5\u9053\u4e86\uff0ctimer_node\u90fd\u4ea4\u7ed9\u4e86zv_timer\u7ba1\u7406","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u4f60\u597d\uff0c\u6211\u7528webbench\u8fdb\u884c\u538b\u529b\u6d4b\u8bd5\u7684\u65f6\u5019\u5f53\u8bbe\u7f6e\u4e3a1200\u7684\u65f6\u5019\u4e3a\u4ec0\u4e48\u4f1a\u76f4\u63a5\u5d29\u6389\u5462\uff0c\u8fde\u7cfb\u7edf\u90fd\u5d29\u6389\uff0c\u4f60\u6d4b\u8bd5\u7684\u65f6\u5019\u4f1a\u5417\u003c/p>","id":"3004652104","isHighlighted":false,"author":{"name":"forward","url":"http://weibo.com/1976820860","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Fweibo.com%2F1976820860&key=NspGBOst9m-76PPnhXcwtg","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-07-25T02:28:19","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u4f60\u597d\uff0c\u6211\u7528webbench\u8fdb\u884c\u538b\u529b\u6d4b\u8bd5\u7684\u65f6\u5019\u5f53\u8bbe\u7f6e\u4e3a1200\u7684\u65f6\u5019\u4e3a\u4ec0\u4e48\u4f1a\u76f4\u63a5\u5d29\u6389\u5462\uff0c\u8fde\u7cfb\u7edf\u90fd\u5d29\u6389\uff0c\u4f60\u6d4b\u8bd5\u7684\u65f6\u5019\u4f1a\u5417","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u5e76\u4e0d\u4f1a\uff0c\u4f60\u53ef\u4ee5\u628a\u9519\u8bef\u65e5\u5fd7\u5728github\u4e0aissue\u7ed9\u6211\uff0c\u8c22\u8c22\u3002\u003c/p>","id":"3004653314","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-07-29T18:19:56","parent":3004652104,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u5e76\u4e0d\u4f1a\uff0c\u4f60\u53ef\u4ee5\u628a\u9519\u8bef\u65e5\u5fd7\u5728github\u4e0aissue\u7ed9\u6211\uff0c\u8c22\u8c22\u3002","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u697c\u4e3b\uff0c\u4f60\u597d\uff0c\u770b\u4f60\u7684\u4ee3\u7801\u8ba9\u6211\u5b66\u4e60\u5230\u4e0d\u5c11\uff0c\u4f46\u662f\u5b9a\u65f6\u5668\u4e2d\u4e3a\u4f55\u5728do_request\u4e2d\u8fdb\u884czv_del_timer\u4e3a\u4f55\u4ec5\u4ec5\u662f\u6807\u8bb0delete=1\u800c\u4e0d\u662f\u76f4\u63a5\u8fdb\u884c\u5220\u9664\u5462\u003c/p>","id":"3004652103","isHighlighted":false,"author":{"name":"cs_guan","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-07-22T20:25:34","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u697c\u4e3b\uff0c\u4f60\u597d\uff0c\u770b\u4f60\u7684\u4ee3\u7801\u8ba9\u6211\u5b66\u4e60\u5230\u4e0d\u5c11\uff0c\u4f46\u662f\u5b9a\u65f6\u5668\u4e2d\u4e3a\u4f55\u5728do_request\u4e2d\u8fdb\u884czv_del_timer\u4e3a\u4f55\u4ec5\u4ec5\u662f\u6807\u8bb0delete=1\u800c\u4e0d\u662f\u76f4\u63a5\u8fdb\u884c\u5220\u9664\u5462","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u5fd8\u4e86\u53ea\u80fd\u997f\u5220\u9664\u5806\u9876\u5143\u7d20\u4e86\uff0c\u672a\u5fc5\u662f\u5806\u9876\u5143\u7d20\u6240\u4ee5\u4e0d\u80fd\u5220\u003c/p>","id":"3004653315","isHighlighted":false,"author":{"name":"cs_guan","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-07-22T20:39:17","parent":3004652103,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u5fd8\u4e86\u53ea\u80fd\u997f\u5220\u9664\u5806\u9876\u5143\u7d20\u4e86\uff0c\u672a\u5fc5\u662f\u5806\u9876\u5143\u7d20\u6240\u4ee5\u4e0d\u80fd\u5220","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u6211\u4e4b\u524d\u7a0b\u5e8f\u7684\u95ee\u9898\u6ca1\u6709\u8003\u8651\u957f\u8fde\u63a5\uff0c\u8c22\u8c22\u5b66\u957f\u63d0\u9192\u3002\u003cbr>\u7136\u540e\u6211\u603b\u7ed3\u4e86\u4e00\u4e0b\uff0c\u4e3b\u8981\u662f\u56e0\u4e3a\u6ca1\u6709\u8003\u8651\u957f\u8fde\u63a5\uff0c\u6240\u4ee5\u670d\u52a1\u5668\u7aef\u53d1\u9001\u5b8c\u6570\u636e\u4e4b\u540e\u76f4\u63a5\u5c06fd  close\u6389\u3002\u4e0a\u7f51\u67e5\u4e86\u4e00\u4e0b\uff0c\u5982\u679csend\u4e4b\u540e\u9a6c\u4e0a\u8c03\u7528close\u4f1a\u5bfc\u81f4\u6570\u636e\u53d1\u9001\u4e0d\u5b8c\u6574(\u6211\u60f3\u53ef\u80fd\u662f\u5ba2\u6237\u7aef\u5148\u63a5\u6536\u5230\u4e86\u670d\u52a1\u5668\u7aef\u53d1\u9001\u7684FIN\uff0c\u540e\u9762\u5c31\u4e0d\u518d\u63a5\u53d7\u670d\u52a1\u5668\u7aef\u7684\u6570\u636e\u4e86)\uff0c\u4e8e\u662f\u5bfc\u81f4\u5ba2\u6237\u7aef\u89e3\u6790\u51fa\u73b0\u95ee\u9898\u3002\u4f46\u662f\u6211\u53d1\u73b0\u4f60\u4ee3\u7801\u91cc\u9762\u597d\u50cf\u8fd9\u4e2a\u95ee\u9898\u4e5f\u6ca1\u6709\u505a\u5904\u7406\uff1a\u003cbr>       serve_static(fd, filename, sbuf.st_size, out);\u003c/p>\u003cp>      if (!out-&gt;keep_alive) {\u003cbr>            log_info(\"no keep_alive! ready to close\");\u003cbr>            free(out);\u003cbr>            goto close;\u003cbr>        }\u003c/p>\u003cp>\u540e\u9762\u4e5f\u76f4\u63a5\u8c03\u7528close\u4e86\uff0c\u4e0d\u77e5\u9053\u662f\u4e0d\u662f\u6211\u6ca1\u770b\u5230\u4f60\u7684\u5904\u7406\u7ec6\u8282\uff0c\u8fd8\u8bf7\u5b66\u957f\u6307\u6559\u3002\u003c/p>\u003cp>\u53e6\u4e00\u65b9\u9762\uff0c\u60a8\u5728\u5904\u7406\u957f\u8fde\u63a5\u65f6\uff0c\u4e3b\u8981\u5c31\u662ffree(out)\u4e4b\u540e\uff0c\u91cd\u65b0\u5f00\u59cb\u5faa\u73af\uff0c\u7136\u540e\u8d70\u5230read\u51fd\u6570\uff0c\u4e00\u822c\u5ba2\u6237\u7aef\u6ca1\u6709\u8fd9\u4e48\u5feb\u518d\u6b21\u53d1\u9001\u8bf7\u6c42\u8fc7\u6765\uff0c\u6240\u4ee5read\u8fd4\u56de\u5e94\u8be5\u662f0\uff0c\u4e8e\u662f\u003cbr>   if (n == 0) {   \u003cbr>            // EOF\u003cbr>            log_info(\"read return 0, ready to close fd %d, remain_size = %zu\", fd, remain_size);\u003cbr>            goto err;\u003cbr>        }\u003c/p>\u003cp>\u76f4\u63a5\u8d70\u5230err\uff0c\u5c31\u662f\u628afd close\u6389\uff0c\u56e0\u6b64\u611f\u89c9\u60a8\u8fd9\u91cc\u7684\u957f\u8fde\u63a5\u597d\u50cf\u5904\u7406\u7684\u6709\u70b9\u8349\u7387\uff1f\u5927\u591a\u6570\u65f6\u5019\u5176\u5b9e\u8fd8\u662f\u76f4\u63a5close\u6389\u4e86\uff0c\u548c\u6ca1\u6709\u957f\u8fde\u63a5\u4f3c\u4e4e\u6ca1\u4ec0\u4e48\u533a\u522b\uff1f\u003c/p>\u003cp>\u6700\u540e\u4e00\u4e2a\u662f\uff1a\u003cbr>       rc = zv_http_parse_request_line(r);\u003cbr>        if (rc == ZV_AGAIN) {\u003cbr>            continue;\u003c/p>\u003cp>\u8fd9\u91cc\u5982\u679c\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u5934\u4e0d\u5b8c\u6574\u7136\u540e\u76f4\u63a5\u8e66\u4e86\uff0c\u662f\u4e0d\u662f\u4f1a\u5bfc\u81f4\u8fd9\u91cc\u51fa\u73b0\u6b7b\u5faa\u73af\uff1f\u003c/p>\u003cp>\u83dc\u9e1f\u4e00\u679a\uff0c\u975e\u5e38\u611f\u8c22\u5b66\u957f\u6307\u5bfc\uff0c\u5e0c\u671b\u53ef\u4ee5\u591a\u591a\u4ea4\u6d41\uff0c\u8c22\u8c22\u5b66\u957fo(\u2229_\u2229)o\u003c/p>","id":"3004652102","isHighlighted":false,"author":{"name":"wengs","url":"http://t.qq.com/wenguangshan1991","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ft.qq.com%2Fwenguangshan1991&key=dXmu7J_jx7c0fBjsjw-eOA","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-07-11T04:06:25","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u6211\u4e4b\u524d\u7a0b\u5e8f\u7684\u95ee\u9898\u6ca1\u6709\u8003\u8651\u957f\u8fde\u63a5\uff0c\u8c22\u8c22\u5b66\u957f\u63d0\u9192\u3002\r\n\u7136\u540e\u6211\u603b\u7ed3\u4e86\u4e00\u4e0b\uff0c\u4e3b\u8981\u662f\u56e0\u4e3a\u6ca1\u6709\u8003\u8651\u957f\u8fde\u63a5\uff0c\u6240\u4ee5\u670d\u52a1\u5668\u7aef\u53d1\u9001\u5b8c\u6570\u636e\u4e4b\u540e\u76f4\u63a5\u5c06fd  close\u6389\u3002\u4e0a\u7f51\u67e5\u4e86\u4e00\u4e0b\uff0c\u5982\u679csend\u4e4b\u540e\u9a6c\u4e0a\u8c03\u7528close\u4f1a\u5bfc\u81f4\u6570\u636e\u53d1\u9001\u4e0d\u5b8c\u6574(\u6211\u60f3\u53ef\u80fd\u662f\u5ba2\u6237\u7aef\u5148\u63a5\u6536\u5230\u4e86\u670d\u52a1\u5668\u7aef\u53d1\u9001\u7684FIN\uff0c\u540e\u9762\u5c31\u4e0d\u518d\u63a5\u53d7\u670d\u52a1\u5668\u7aef\u7684\u6570\u636e\u4e86)\uff0c\u4e8e\u662f\u5bfc\u81f4\u5ba2\u6237\u7aef\u89e3\u6790\u51fa\u73b0\u95ee\u9898\u3002\u4f46\u662f\u6211\u53d1\u73b0\u4f60\u4ee3\u7801\u91cc\u9762\u597d\u50cf\u8fd9\u4e2a\u95ee\u9898\u4e5f\u6ca1\u6709\u505a\u5904\u7406\uff1a\r\n       serve_static(fd, filename, sbuf.st_size, out);\r\n\r\n      if (!out->keep_alive) {\r\n            log_info(\"no keep_alive! ready to close\");\r\n            free(out);\r\n            goto close;\r\n        }\r\n\r\n\u540e\u9762\u4e5f\u76f4\u63a5\u8c03\u7528close\u4e86\uff0c\u4e0d\u77e5\u9053\u662f\u4e0d\u662f\u6211\u6ca1\u770b\u5230\u4f60\u7684\u5904\u7406\u7ec6\u8282\uff0c\u8fd8\u8bf7\u5b66\u957f\u6307\u6559\u3002\r\n\r\n\u53e6\u4e00\u65b9\u9762\uff0c\u60a8\u5728\u5904\u7406\u957f\u8fde\u63a5\u65f6\uff0c\u4e3b\u8981\u5c31\u662ffree(out)\u4e4b\u540e\uff0c\u91cd\u65b0\u5f00\u59cb\u5faa\u73af\uff0c\u7136\u540e\u8d70\u5230read\u51fd\u6570\uff0c\u4e00\u822c\u5ba2\u6237\u7aef\u6ca1\u6709\u8fd9\u4e48\u5feb\u518d\u6b21\u53d1\u9001\u8bf7\u6c42\u8fc7\u6765\uff0c\u6240\u4ee5read\u8fd4\u56de\u5e94\u8be5\u662f0\uff0c\u4e8e\u662f\r\n   if (n == 0) {   \r\n            // EOF\r\n            log_info(\"read return 0, ready to close fd %d, remain_size = %zu\", fd, remain_size);\r\n            goto err;\r\n        }\r\n\r\n\u76f4\u63a5\u8d70\u5230err\uff0c\u5c31\u662f\u628afd close\u6389\uff0c\u56e0\u6b64\u611f\u89c9\u60a8\u8fd9\u91cc\u7684\u957f\u8fde\u63a5\u597d\u50cf\u5904\u7406\u7684\u6709\u70b9\u8349\u7387\uff1f\u5927\u591a\u6570\u65f6\u5019\u5176\u5b9e\u8fd8\u662f\u76f4\u63a5close\u6389\u4e86\uff0c\u548c\u6ca1\u6709\u957f\u8fde\u63a5\u4f3c\u4e4e\u6ca1\u4ec0\u4e48\u533a\u522b\uff1f\r\n\r\n\u6700\u540e\u4e00\u4e2a\u662f\uff1a\r\n       rc = zv_http_parse_request_line(r);\r\n        if (rc == ZV_AGAIN) {\r\n            continue;\r\n\r\n\u8fd9\u91cc\u5982\u679c\u5ba2\u6237\u7aef\u53d1\u9001\u7684\u5934\u4e0d\u5b8c\u6574\u7136\u540e\u76f4\u63a5\u8e66\u4e86\uff0c\u662f\u4e0d\u662f\u4f1a\u5bfc\u81f4\u8fd9\u91cc\u51fa\u73b0\u6b7b\u5faa\u73af\uff1f\r\n\r\n\r\n\u83dc\u9e1f\u4e00\u679a\uff0c\u975e\u5e38\u611f\u8c22\u5b66\u957f\u6307\u5bfc\uff0c\u5e0c\u671b\u53ef\u4ee5\u591a\u591a\u4ea4\u6d41\uff0c\u8c22\u8c22\u5b66\u957fo(\u2229_\u2229)o","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u62b1\u6b49\u770b\u5230\u56de\u590d\u665a\u4e86\u3002\u003cbr>1. \u7ed9\u51fa\u70b9\u4f9d\u636e\u6216\u8005\u80fd\u8fd0\u884c\u7684\u4f8b\u5b50\uff1f\u003cbr>2. n==0\u4e00\u5b9a\u662f\u5bf9\u65b9\u5173\u95ed\u4e86socket\uff0c\u6240\u4ee5server\u4e5f\u5173\u95ed\u6709\u95ee\u9898\u5417\uff1f\u5bf9\u65b9\u6ca1\u5173\u95edsocket\uff0cread\u4e00\u5b9a\u4f1a\u8fd4\u56deEAGAIN\u003c/p>","id":"3004653313","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-07-15T02:09:45","parent":3004652102,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u62b1\u6b49\u770b\u5230\u56de\u590d\u665a\u4e86\u3002\n1. \u7ed9\u51fa\u70b9\u4f9d\u636e\u6216\u8005\u80fd\u8fd0\u884c\u7684\u4f8b\u5b50\uff1f\n2. n==0\u4e00\u5b9a\u662f\u5bf9\u65b9\u5173\u95ed\u4e86socket\uff0c\u6240\u4ee5server\u4e5f\u5173\u95ed\u6709\u95ee\u9898\u5417\uff1f\u5bf9\u65b9\u6ca1\u5173\u95edsocket\uff0cread\u4e00\u5b9a\u4f1a\u8fd4\u56deEAGAIN","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u5b66\u957f\u4e0d\u597d\u610f\u601d\u7b2c\u4e09\u4e2a\u95ee\u9898\u770b\u6f0f\u4e86\uff0cread\u662f\u53ef\u4ee5\u9000\u51fa\u5faa\u73af\u7684\u003c/p>","id":"3004653312","isHighlighted":false,"author":{"name":"wengs","url":"http://t.qq.com/wenguangshan1991","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ft.qq.com%2Fwenguangshan1991&key=dXmu7J_jx7c0fBjsjw-eOA","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-07-11T04:34:20","parent":3004652102,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u5b66\u957f\u4e0d\u597d\u610f\u601d\u7b2c\u4e09\u4e2a\u95ee\u9898\u770b\u6f0f\u4e86\uff0cread\u662f\u53ef\u4ee5\u9000\u51fa\u5faa\u73af\u7684","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u5b66\u957f\u597d\uff0c\u6700\u8fd1\u5728\u770b\u4f60\u5199\u7684web\u670d\u52a1\u5668\u4ee3\u7801\uff0c\u6536\u76ca\u532a\u6d45\u3002\u4e5f\u5f00\u59cb\u5c1d\u8bd5\u5199\u81ea\u5df1\u7684server\uff0c\u611f\u89c9\u8c03\u8bd5\u771f\u662f\u8270\u96be\uff0c\u4e0d\u77e5\u9053\u5b66\u957f\u6709\u6ca1\u6709\u4ec0\u4e48\u8c03\u8bd5\u5de5\u5177\u63a8\u8350\u3002\u5728\u4eba\u8089\u8c03\u8bd5\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u81ea\u5df1\u5199\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1http\u8bf7\u6c42\uff0c\u54cd\u5e94\u4e00\u5207\u6b63\u5e38\uff0c\u4f46\u662f\u5982\u679c\u76f4\u63a5\u7528web\u6d4f\u89c8\u5668\uff08chrome\uff09\u4f5c\u4e3a\u5ba2\u6237\u7aef\uff0c\u5c31\u4f1a\u51fa\u73b0\u5404\u79cd\u95ee\u9898\uff0c\u6709\u65f6\u751a\u81f3\u53ef\u4ee5\u628a\u670d\u52a1\u5668\u641e\u5d29\u6e83\u6389\u3002\u4e0d\u77e5\u9053\u81ea\u5df1\u5199\u7684\u5ba2\u6237\u7aef\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u5230\u5e95\u6709\u4ec0\u4e48\u5dee\u522b\u9700\u8981\u6ce8\u610f\u7684\u5462\uff1f\u8c22\u8c22\u5b66\u957f^_^\u003c/p>","id":"3004652101","isHighlighted":false,"author":{"name":"wengs","url":"http://t.qq.com/wenguangshan1991","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Ft.qq.com%2Fwenguangshan1991&key=dXmu7J_jx7c0fBjsjw-eOA","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-07-09T19:35:02","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u5b66\u957f\u597d\uff0c\u6700\u8fd1\u5728\u770b\u4f60\u5199\u7684web\u670d\u52a1\u5668\u4ee3\u7801\uff0c\u6536\u76ca\u532a\u6d45\u3002\u4e5f\u5f00\u59cb\u5c1d\u8bd5\u5199\u81ea\u5df1\u7684server\uff0c\u611f\u89c9\u8c03\u8bd5\u771f\u662f\u8270\u96be\uff0c\u4e0d\u77e5\u9053\u5b66\u957f\u6709\u6ca1\u6709\u4ec0\u4e48\u8c03\u8bd5\u5de5\u5177\u63a8\u8350\u3002\u5728\u4eba\u8089\u8c03\u8bd5\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5982\u679c\u81ea\u5df1\u5199\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1http\u8bf7\u6c42\uff0c\u54cd\u5e94\u4e00\u5207\u6b63\u5e38\uff0c\u4f46\u662f\u5982\u679c\u76f4\u63a5\u7528web\u6d4f\u89c8\u5668\uff08chrome\uff09\u4f5c\u4e3a\u5ba2\u6237\u7aef\uff0c\u5c31\u4f1a\u51fa\u73b0\u5404\u79cd\u95ee\u9898\uff0c\u6709\u65f6\u751a\u81f3\u53ef\u4ee5\u628a\u670d\u52a1\u5668\u641e\u5d29\u6e83\u6389\u3002\u4e0d\u77e5\u9053\u81ea\u5df1\u5199\u7684\u5ba2\u6237\u7aef\u548c\u6d4f\u89c8\u5668\u4e4b\u95f4\u5230\u5e95\u6709\u4ec0\u4e48\u5dee\u522b\u9700\u8981\u6ce8\u610f\u7684\u5462\uff1f\u8c22\u8c22\u5b66\u957f^_^","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u8c03\u8bd5\u7684\u8bdd\uff0c\u7528GDB\u548c\u6253log\u90fd\u53ef\u4ee5\uff0c\u591a\u7ebf\u7a0b\u6bd4\u8f83\u96be\u8c03\u3002Web\u6e38\u89c8\u5668\u4e00\u822c\u90fd\u662f\u7528\u957f\u8fde\u63a5\uff0c\u8fd9\u4e2a\u4f60\u8003\u8651\u8fc7\u5417\uff1f\u4f60\u53ef\u4ee5\u6253\u5f00Chrome\u5f00\u53d1\u8005\u5de5\u5177\u7684Network\uff0c\u770b\u54ea\u4e00\u6761\u8bf7\u6c42\u5931\u8d25\u4e86\uff0c\u7ed3\u5408\u7740server\u7684log\u8054\u8c03\u4e00\u4e0b\u3002\u003c/p>","id":"3004653311","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-07-11T00:57:02","parent":3004652101,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u8c03\u8bd5\u7684\u8bdd\uff0c\u7528GDB\u548c\u6253log\u90fd\u53ef\u4ee5\uff0c\u591a\u7ebf\u7a0b\u6bd4\u8f83\u96be\u8c03\u3002Web\u6e38\u89c8\u5668\u4e00\u822c\u90fd\u662f\u7528\u957f\u8fde\u63a5\uff0c\u8fd9\u4e2a\u4f60\u8003\u8651\u8fc7\u5417\uff1f\u4f60\u53ef\u4ee5\u6253\u5f00Chrome\u5f00\u53d1\u8005\u5de5\u5177\u7684Network\uff0c\u770b\u54ea\u4e00\u6761\u8bf7\u6c42\u5931\u8d25\u4e86\uff0c\u7ed3\u5408\u7740server\u7684log\u8054\u8c03\u4e00\u4e0b\u3002","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u597d\u6587\u7ae0\u554a\uff01\u6536\u85cf\u4e86\u003c/p>","id":"3004652100","isHighlighted":false,"author":{"name":"\u660e\u5ddd","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-05-03T21:06:32","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u597d\u6587\u7ae0\u554a\uff01\u6536\u85cf\u4e86","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u535a\u4e3b\u5199\u7684\u5f88\u4e0d\u9519[good]\u5b66\u4e60\u5230\u4e86\u003c/p>","id":"3004652099","isHighlighted":false,"author":{"name":"vivi","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-03-21T15:12:09","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u535a\u4e3b\u5199\u7684\u5f88\u4e0d\u9519[good]\u5b66\u4e60\u5230\u4e86","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u535a\u4e3b \u6709\u6728\u6709\u53ef\u80fd\u7ebf\u7a0b\u6c60\u4e2d\u7684\u4e24\u4e2a\u7ebf\u7a0b\u540c\u65f6\u5904\u7406\u540c\u4e00\u4e2afd\u5462\uff1f \u4e00\u4e2a\u7ebf\u7a0b\u8bfb\u53d6\u5b8c\u67d0\u4e2asocket\u4e0a\u7684\u6570\u636e\u540e\u5f00\u59cb\u5904\u7406\u6570\u636e\uff0c\u800c\u5728\u6570\u636e\u5904\u7406\u7684\u8fc7\u7a0b\u4e2d\u8fd9\u4e2asocket\u53c8\u6709\u65b0\u6570\u636e\u53ef\u8bfb\u4e86\uff08EPOLLIN\u88ab\u518d\u6b21\u89e6\u53d1\uff09\uff0c\u6b64\u65f6\u5524\u9192\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u6765\u8bfb\u53d6\u8fd9\u4e9b\u6570\u636e\u5e76\u5904\u7406\u8fd9\u4e9b\u65b0\u7684\u6570\u636e\u3002 \u4f3c\u4e4e\u4f60\u5e76\u6ca1\u6709\u7ed9socket\u63cf\u8ff0\u7b26\u6ce8\u518cEPOLLONESHOT\u4e8b\u4ef6\uff0c\u535a\u4e3b\u8fd9\u6837\u4e0d\u4f1a\u51fa\u95ee\u9898\uff1f \u6216\u8005\u4f60\u662f\u7528\u522b\u7684\u529e\u6cd5\u5904\u7406\u7684\uff1f\u003c/p>","id":"3004652098","isHighlighted":false,"author":{"name":"ricardo","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-03-13T20:41:18","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u535a\u4e3b \u6709\u6728\u6709\u53ef\u80fd\u7ebf\u7a0b\u6c60\u4e2d\u7684\u4e24\u4e2a\u7ebf\u7a0b\u540c\u65f6\u5904\u7406\u540c\u4e00\u4e2afd\u5462\uff1f \u4e00\u4e2a\u7ebf\u7a0b\u8bfb\u53d6\u5b8c\u67d0\u4e2asocket\u4e0a\u7684\u6570\u636e\u540e\u5f00\u59cb\u5904\u7406\u6570\u636e\uff0c\u800c\u5728\u6570\u636e\u5904\u7406\u7684\u8fc7\u7a0b\u4e2d\u8fd9\u4e2asocket\u53c8\u6709\u65b0\u6570\u636e\u53ef\u8bfb\u4e86\uff08EPOLLIN\u88ab\u518d\u6b21\u89e6\u53d1\uff09\uff0c\u6b64\u65f6\u5524\u9192\u53e6\u4e00\u4e2a\u7ebf\u7a0b\u6765\u8bfb\u53d6\u8fd9\u4e9b\u6570\u636e\u5e76\u5904\u7406\u8fd9\u4e9b\u65b0\u7684\u6570\u636e\u3002 \u4f3c\u4e4e\u4f60\u5e76\u6ca1\u6709\u7ed9socket\u63cf\u8ff0\u7b26\u6ce8\u518cEPOLLONESHOT\u4e8b\u4ef6\uff0c\u535a\u4e3b\u8fd9\u6837\u4e0d\u4f1a\u51fa\u95ee\u9898\uff1f \u6216\u8005\u4f60\u662f\u7528\u522b\u7684\u529e\u6cd5\u5904\u7406\u7684\uff1f","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u5bf9\uff0c\u8fd9\u4e2a\u6211\u786e\u5b9e\u6ca1\u6709\u8003\u8651\uff0c\u4e24\u4e2a\u65b9\u6cd5\uff1a\u003cbr>1. EPOLLONESHOT\u003cbr>2. \u4e3a\u6bcf\u4e2afd\u52a0\u9501\u003cbr>\u7b2c\u4e8c\u4e2a\u65b9\u6cd5\u592a\u590d\u6742\uff0c\u4e00\u822c\u90fd\u7528\u50cf\u4f60\u8bf4\u7684\u7b2c\u4e00\u4e2a\u65b9\u6cd5\u3002\u003cbr>\u8fd9\u4e2abug\u5df2\u7ecffix\u4e86\uff0c\u4f60\u53ef\u4ee5\u770b\u770b\u6211\u7684\u6700\u65b0\u4fee\u6539\uff0c\u770b\u770b\u6709\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898 :)\u003c/p>","id":"3004653310","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-03-14T00:39:12","parent":3004652098,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u5bf9\uff0c\u8fd9\u4e2a\u6211\u786e\u5b9e\u6ca1\u6709\u8003\u8651\uff0c\u4e24\u4e2a\u65b9\u6cd5\uff1a\r\n1. EPOLLONESHOT\r\n2. \u4e3a\u6bcf\u4e2afd\u52a0\u9501\r\n\u7b2c\u4e8c\u4e2a\u65b9\u6cd5\u592a\u590d\u6742\uff0c\u4e00\u822c\u90fd\u7528\u50cf\u4f60\u8bf4\u7684\u7b2c\u4e00\u4e2a\u65b9\u6cd5\u3002\r\n\u8fd9\u4e2abug\u5df2\u7ecffix\u4e86\uff0c\u4f60\u53ef\u4ee5\u770b\u770b\u6211\u7684\u6700\u65b0\u4fee\u6539\uff0c\u770b\u770b\u6709\u6ca1\u6709\u4ec0\u4e48\u95ee\u9898 :)","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u6211\u611f\u89c9 zv_handle_expire_timers(); \u8fd9\u53e5\u5e94\u8be5\u52a0\u5230\u003c/p>\u003cp>    }   //end of for\u003cbr>   zv_handle_expire_timers(); // \u8fd9\u91cc\u6765 IO\u4e8b\u4ef6\u7684\u4f18\u5148\u7ea7\u5e94\u8be5\u66f4\u9ad8\u5427\uff1f \u6bd5\u7adf\u6d3b\u8dc3\u7684\u8fde\u63a5\u624d\u662f\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\u003cbr>    }   // end of while(1)\u003c/p>","id":"3004653591","isHighlighted":false,"author":{"name":"ricardo","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-03-24T18:19:01","parent":3004653310,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u6211\u611f\u89c9 zv_handle_expire_timers(); \u8fd9\u53e5\u5e94\u8be5\u52a0\u5230\r\n\r\n    }   //end of for\r\n   zv_handle_expire_timers(); // \u8fd9\u91cc\u6765 IO\u4e8b\u4ef6\u7684\u4f18\u5148\u7ea7\u5e94\u8be5\u66f4\u9ad8\u5427\uff1f \u6bd5\u7adf\u6d3b\u8dc3\u7684\u8fde\u63a5\u624d\u662f\u4f18\u5148\u7ea7\u6700\u9ad8\u7684\r\n    }   // end of while(1)","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":2,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u8fd9\u4e2a\u987a\u5e8f\u4e0d\u90a3\u4e48\u91cd\u8981\uff1a\u5982\u679cepoll\u662f\u56e0\u4e3atimer\u8fc7\u671f\u8fd4\u56de\uff0c\u90a3\u4e48\u5c31\u6ca1\u6709IO\u4e8b\u4ef6\uff0c\u6240\u4ee5\u987a\u5e8f\u65e0\u6240\u8c13\uff1b\u5982\u679cepoll\u662f\u56e0\u4e3aIO\u4e8b\u4ef6\u8fd4\u56de\uff0c\u6240\u4ee5\u6ca1\u6709timer\u8fc7\u671f\uff0c\u90a3\u4e48zv_handle_expire_timers\u8fd9\u4e2a\u51fd\u6570\u51e0\u4e4e\u6ca1\u5f71\u54cd\u3002\u003c/p>","id":"3004653790","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-03-24T18:38:04","parent":3004653591,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u8fd9\u4e2a\u987a\u5e8f\u4e0d\u90a3\u4e48\u91cd\u8981\uff1a\u5982\u679cepoll\u662f\u56e0\u4e3atimer\u8fc7\u671f\u8fd4\u56de\uff0c\u90a3\u4e48\u5c31\u6ca1\u6709IO\u4e8b\u4ef6\uff0c\u6240\u4ee5\u987a\u5e8f\u65e0\u6240\u8c13\uff1b\u5982\u679cepoll\u662f\u56e0\u4e3aIO\u4e8b\u4ef6\u8fd4\u56de\uff0c\u6240\u4ee5\u6ca1\u6709timer\u8fc7\u671f\uff0c\u90a3\u4e48zv_handle_expire_timers\u8fd9\u4e2a\u51fd\u6570\u51e0\u4e4e\u6ca1\u5f71\u54cd\u3002","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":3,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u5bf9\u7684 time = zv_find_timer(); \u6bcf\u6b21\u4e8b\u4ef6\u5faa\u73af\u90fd\u66f4\u65b0\u4e00\u4e0btime    epoll\u4f1a\u5728time\u5230\u65f6\u8fd4\u56de \u6211\u5fd8\u8bb0\u591a\u8def\u590d\u7528\u672c\u8eab\u4e5f\u80fd\u5b9a\u65f6\u4e86\uff0c\u6211\u8fd8\u4e00\u76f4\u5728\u627e\u6709\u6728\u6709alarm\u3002\u3002\u3002  \u8fd8\u6709\u4f60github\u4e0a\u7684\u7ebf\u7a0b\u6c60\u90fd\u88ab\u4f60\u6ce8\u91ca\u6389\u4e86\u003c/p>","id":"3004653973","isHighlighted":false,"author":{"name":"ricardo","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-03-24T20:27:00","parent":3004653790,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u5bf9\u7684 time = zv_find_timer(); \u6bcf\u6b21\u4e8b\u4ef6\u5faa\u73af\u90fd\u66f4\u65b0\u4e00\u4e0btime    epoll\u4f1a\u5728time\u5230\u65f6\u8fd4\u56de \u6211\u5fd8\u8bb0\u591a\u8def\u590d\u7528\u672c\u8eab\u4e5f\u80fd\u5b9a\u65f6\u4e86\uff0c\u6211\u8fd8\u4e00\u76f4\u5728\u627e\u6709\u6728\u6709alarm\u3002\u3002\u3002  \u8fd8\u6709\u4f60github\u4e0a\u7684\u7ebf\u7a0b\u6c60\u90fd\u88ab\u4f60\u6ce8\u91ca\u6389\u4e86","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":4,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u73b0\u5728\u591a\u7ebf\u7a0b\u548ctimer\u7684\u6df7\u5408\u4f7f\u7528\u6709\u7ade\u4e89\u95ee\u9898\uff0c\u5355\u7eaf\u5730\u52a0\u9501\u6027\u80fd\u53ef\u80fd\u4f1a\u4e0b\u964d\uff0c\u6211\u6b63\u5728\u627e\u66f4\u597d\u7684\u529e\u6cd5\u003c/p>","id":"3004653975","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-03-24T20:50:56","parent":3004653973,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u73b0\u5728\u591a\u7ebf\u7a0b\u548ctimer\u7684\u6df7\u5408\u4f7f\u7528\u6709\u7ade\u4e89\u95ee\u9898\uff0c\u5355\u7eaf\u5730\u52a0\u9501\u6027\u80fd\u53ef\u80fd\u4f1a\u4e0b\u964d\uff0c\u6211\u6b63\u5728\u627e\u66f4\u597d\u7684\u529e\u6cd5","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":5,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>zx_http_handle_header // zx?  zv\u5427\uff1f\u003c/p>\u003cp>log_err(\"install sigal handler for SIGPIPI failed\"); // SIGPIPI \uff1f typo\u003c/p>","id":"3004653788","isHighlighted":false,"author":{"name":"ricardo","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-03-24T18:23:41","parent":3004653591,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"zx_http_handle_header // zx?  zv\u5427\uff1f\r\n\r\nlog_err(\"install sigal handler for SIGPIPI failed\"); // SIGPIPI \uff1f typo","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":3,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>Thks\u003c/p>","id":"3004653791","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-03-24T18:38:13","parent":3004653788,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"Thks","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":4,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u535a\u4e3b \u003cbr>if (n == 0) {   // EOF\u003cbr>            log_info(\"read return 0, ready to close fd %d\", fd);\u003cbr>            goto err;\u003cbr>        }\u003cbr>\u8fd9\u91cc \u5ba2\u6237\u7aef\u65ad\u5f00\u8fde\u63a5\u540e, goto \u5230err\u003c/p>\u003cp>err:\u003cbr>close:\u003cbr>    close(fd);\u003cbr>    free(ptr);\u003cbr>}\u003c/p>\u003cp>err\u8fd9\u91cc\u53ea\u662fclose\u6389fd, \u4f46\u6ca1\u6709 epoll_ctl(efd, EPOLL_CTL_DEL, fd, &amp;tmp) \u003cbr>\u4e0d\u628a\u5173\u95ed\u7684fd\u4eceepoll\u91cc\u9762delete\u6389\u53ef\u4ee5\u5417? \u8fd8\u662fclose\u540e\u81ea\u52a8\u4eceepoll\u4e2d\u5220\u9664\u6389\u4e86?\u003c/p>","id":"3004652096","isHighlighted":false,"author":{"name":"ricardo","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-03-11T01:08:05","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u535a\u4e3b \r\nif (n == 0) {   // EOF\r\n            log_info(\"read return 0, ready to close fd %d\", fd);\r\n            goto err;\r\n        }\r\n\u8fd9\u91cc \u5ba2\u6237\u7aef\u65ad\u5f00\u8fde\u63a5\u540e, goto \u5230err\r\n\r\nerr:\r\nclose:\r\n    close(fd);\r\n    free(ptr);\r\n}\r\n\r\nerr\u8fd9\u91cc\u53ea\u662fclose\u6389fd, \u4f46\u6ca1\u6709 epoll_ctl(efd, EPOLL_CTL_DEL, fd, &amp;tmp) \r\n\u4e0d\u628a\u5173\u95ed\u7684fd\u4eceepoll\u91cc\u9762delete\u6389\u53ef\u4ee5\u5417? \u8fd8\u662fclose\u540e\u81ea\u52a8\u4eceepoll\u4e2d\u5220\u9664\u6389\u4e86?","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>close\u540e\u81ea\u52a8\u4eceepoll\u4e2d\u5220\u9664\u6389\uff0c\u8be6\u7ec6\u8bf7\u770b\uff1a\u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fstackoverflow.com%2Fquestions%2F8707601%2Fis-it-necessary-to-deregister-a-socket-from-epoll-before-closing-it%3A7JrRfY4sVy2joIYmxpq5wOeg03I&amp;cuid=2491765\" rel=\"nofollow noopener\">http://stackoverflow.com/qu...\u003c/a>\u003c/p>","id":"3004653307","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-03-11T18:45:22","parent":3004652096,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"close\u540e\u81ea\u52a8\u4eceepoll\u4e2d\u5220\u9664\u6389\uff0c\u8be6\u7ec6\u8bf7\u770b\uff1ahttp://stackoverflow.com/questions/8707601/is-it-necessary-to-deregister-a-socket-from-epoll-before-closing-it","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>http.c\u6587\u4ef6 53\u884c \u548c 138\u884c\u003c/p>","id":"3004653308","isHighlighted":false,"author":{"name":"ricardo","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-03-11T01:09:17","parent":3004652096,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"http.c\u6587\u4ef6 53\u884c \u548c 138\u884c","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u535a\u4e3b \u6211\u6ca1\u627e\u5230\u4f60\u5728\u54ea free(event[i].data.ptr)  \u5982\u679c\u6709Keep-alive\u5934\u90a3\u5c31\u4fdd\u6301\u4e00\u4e2a\u957f\u8fde\u63a5,\u5982\u679c\u6ca1\u6709\u670d\u52a1\u7aef\u4e3b\u52a8\u65ad\u5f00\u8fde\u63a5,\u4f46\u662f\u4f60\u6ca1\u91ca\u653eevent[i].data.ptr\u554a? \u8fd9\u6837\u4e0d\u5c31\u5185\u5b58\u6cc4\u9732\u4e86?  http.c\u6587\u4ef6 139\u884c\u7684free(ptr);\u4f60\u6ce8\u91ca\u6389\u4e86.\u4e3a\u4ec0\u4e48? \u6c42\u535a\u4e3b\u89e3\u60d1\u003c/p>","id":"3004652094","isHighlighted":false,"author":{"name":"ric","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-02-29T03:46:06","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u535a\u4e3b \u6211\u6ca1\u627e\u5230\u4f60\u5728\u54ea free(event[i].data.ptr)  \u5982\u679c\u6709Keep-alive\u5934\u90a3\u5c31\u4fdd\u6301\u4e00\u4e2a\u957f\u8fde\u63a5,\u5982\u679c\u6ca1\u6709\u670d\u52a1\u7aef\u4e3b\u52a8\u65ad\u5f00\u8fde\u63a5,\u4f46\u662f\u4f60\u6ca1\u91ca\u653eevent[i].data.ptr\u554a? \u8fd9\u6837\u4e0d\u5c31\u5185\u5b58\u6cc4\u9732\u4e86?  http.c\u6587\u4ef6 139\u884c\u7684free(ptr);\u4f60\u6ce8\u91ca\u6389\u4e86.\u4e3a\u4ec0\u4e48? \u6c42\u535a\u4e3b\u89e3\u60d1","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u6211\u5f53\u65f6\u4e3a\u4e86\u8c03\u8bd5\u4e00\u4e2a\u529f\u80fd\u5c31\u628a\u5b83\u6ce8\u91ca\u6389\u4e86\uff0c\u4f60\u9700\u8981\u628a\u6ce8\u91ca\u5220\u6389\uff0c\u8bb0\u5f97\u4ea4\u6362close(fd)\u548cfree(ptr)\u7684\u987a\u5e8f\uff0c\u5426\u5219\u56e0\u4e3a\u7ebf\u7a0b\u8c03\u5ea6\u95ee\u9898\u4f1a\u5f15\u5165bug\u3002\u6211\u628a\u4fee\u6539\u8fc7\u7684\u4ee3\u7801\u63a8\u5230github\u4e86\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u62c9\u6700\u65b0\u7684\u4ee3\u7801\u003c/p>","id":"3004653304","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-02-29T15:50:09","parent":3004652094,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u6211\u5f53\u65f6\u4e3a\u4e86\u8c03\u8bd5\u4e00\u4e2a\u529f\u80fd\u5c31\u628a\u5b83\u6ce8\u91ca\u6389\u4e86\uff0c\u4f60\u9700\u8981\u628a\u6ce8\u91ca\u5220\u6389\uff0c\u8bb0\u5f97\u4ea4\u6362close(fd)\u548cfree(ptr)\u7684\u987a\u5e8f\uff0c\u5426\u5219\u56e0\u4e3a\u7ebf\u7a0b\u8c03\u5ea6\u95ee\u9898\u4f1a\u5f15\u5165bug\u3002\u6211\u628a\u4fee\u6539\u8fc7\u7684\u4ee3\u7801\u63a8\u5230github\u4e86\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u62c9\u6700\u65b0\u7684\u4ee3\u7801","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>[ok]\u003c/p>","id":"3004653589","isHighlighted":false,"author":{"name":"ric","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-02-29T21:25:58","parent":3004653304,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"[ok]","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":2,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>events[i].data.ptr \u600e\u4e48\u641e\u5f97...[]\u53d8\u6210\u8868\u60c5...\u003c/p>","id":"3004653305","isHighlighted":false,"author":{"name":"ric","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-02-29T03:47:12","parent":3004652094,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"events[i].data.ptr \u600e\u4e48\u641e\u5f97...[]\u53d8\u6210\u8868\u60c5...","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u003ca href=\"http://disq.us/url?url=http%3A%2F%2Fhttp_parse.co%3Ajajt_G-VgRXguWn-jkohiV2TeuM&amp;cuid=2491765\" rel=\"nofollow noopener\">http_parse.co\u003c/a>\u4e2d355\u884c hd = (zv_http_request_t *)malloc(sizeof(zv_http_request_t)); \u8fd9\u4e00\u53e5 \u4e3a\u4ec0\u4e48\u8981zv_http_header_t \u7c7b\u578b\u7684\u6307\u9488\u6307\u5411\u4e00\u5757zv_http_request_t\u5927\u5c0f\u7684\u5185\u5b58\uff1f \u76f4\u63a5 hd = (zv_http_header_t *)malloc(sizeof(zv_http_header_t)); \u4e0d\u884c\u5417\uff1f\u003c/p>","id":"3004652092","isHighlighted":false,"author":{"name":"ric","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-02-01T02:49:21","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"http_parse.co\u4e2d355\u884c hd = (zv_http_request_t *)malloc(sizeof(zv_http_request_t)); \u8fd9\u4e00\u53e5 \u4e3a\u4ec0\u4e48\u8981zv_http_header_t \u7c7b\u578b\u7684\u6307\u9488\u6307\u5411\u4e00\u5757zv_http_request_t\u5927\u5c0f\u7684\u5185\u5b58\uff1f \u76f4\u63a5 hd = (zv_http_header_t *)malloc(sizeof(zv_http_header_t)); \u4e0d\u884c\u5417\uff1f","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous","links"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u4f60\u770b\u5f97\u5f88\u4ed4\u7ec6\uff0c\u8fd9\u91cc\u8c8c\u4f3c\u5206\u914d\u9519\u7a7a\u95f4\u5927\u5c0f\u4e86\uff0c\u56e0\u4e3a\u5206\u914d\u7684\u6bd4\u9700\u8981\u7684\u5927\uff0c\u6240\u4ee5\u8fd0\u884c\u8d77\u6765\u201c\u770b\u4e0a\u53bb\u201d\u6ca1\u6709\u95ee\u9898\uff0c\u5176\u5b9e\u6d6a\u8d39\u4e86\u4e00\u4e9b\u5185\u5b58\u3002\u611f\u8c22 :)\u003c/p>","id":"3004653302","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-02-02T21:46:02","parent":3004652092,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u4f60\u770b\u5f97\u5f88\u4ed4\u7ec6\uff0c\u8fd9\u91cc\u8c8c\u4f3c\u5206\u914d\u9519\u7a7a\u95f4\u5927\u5c0f\u4e86\uff0c\u56e0\u4e3a\u5206\u914d\u7684\u6bd4\u9700\u8981\u7684\u5927\uff0c\u6240\u4ee5\u8fd0\u884c\u8d77\u6765\u201c\u770b\u4e0a\u53bb\u201d\u6ca1\u6709\u95ee\u9898\uff0c\u5176\u5b9e\u6d6a\u8d39\u4e86\u4e00\u4e9b\u5185\u5b58\u3002\u611f\u8c22 :)","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u535a\u4e3b \u4f60\u7684parse_uri\u51fd\u6570\u91cc\u9762\u53c2\u6570 uri\u6307\u5411\u7684\u8c8c\u4f3c\u4e0d\u662f'\\0'\u7ed3\u5c3e\u7684\u5b57\u7b26\u4e32\u5427\uff1f\u003cbr> if(uri[strlen(uri) - 1] == '/' || filename[strlen(filename) - 1] == '/')\u003cbr>    {\u003cbr>        strcat(filename, \"index.html\");\u003cbr>    } \u003cbr>\u8fd9\u53e5\u600e\u4e48\u4e0d\u4f1a\u51fa\u95ee\u9898\uff1f \u4f60\u5728zv_http_parse_request_line\u91cc\u9762\u89e3\u6790\u7684uri\u3002\u628auri_start\u6307\u5411\u4e86'/'\uff0c\u7136\u540e\u8ba9uri_endi\u6307\u5411\u4e86\u2018 \u2019\u3002 \u5982\u679c\u8981\u7528\u4f60\u4e0a\u9762\u7684\u903b\u8f91\u6765\u5224\u65ad\u7684\u8bdd\uff0c\u4f60\u5e94\u8be5\u628auri_end\u6307\u5411\u7684\u5b57\u7b26\u6539\u4e3a'\\0'\u624d\u5bf9\uff1f\uff1f \u6211\u7406\u89e3\u7684\u5bf9\u4e0d\u5bf9\uff1f \u6211\u5b9e\u5728\u6ca1\u627e\u5230\u4f60\u662f\u5728\u54ea\u628auri\u8bbe\u4e3a\u4ee5Null-terminated\u7684\u5b57\u7b26\u4e32\u7684\u3002 \u8bdd\u8bf4c\u98ce\u683c\u7684\u5b57\u7b26\u4e32\u770b\u7684\u6211\u771f\u7684\u5f88\u86cb\u75bc\u3002\u3002\u3002\u3002\u6211\u600e\u4e48\u611f\u89c9\u8fd9\u4e2ahttp\u670d\u52a1\u5668\u6700\u590d\u6742\u7684\u662f\u89e3\u6790\u62a5\u6587\u8fd9\u90e8\u5206\u3002\u3002\u3002\u53ef\u80fd\u662f\u6211c\u8bed\u8a00\u5b66\u7684\u4e0d\u597d\u3002\u3002\u3002\u3002\u003c/p>","id":"3004653583","isHighlighted":false,"author":{"name":"ric","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-02-03T01:50:00","parent":3004653302,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u535a\u4e3b \u4f60\u7684parse_uri\u51fd\u6570\u91cc\u9762\u53c2\u6570 uri\u6307\u5411\u7684\u8c8c\u4f3c\u4e0d\u662f'\\0'\u7ed3\u5c3e\u7684\u5b57\u7b26\u4e32\u5427\uff1f\r\n if(uri[strlen(uri) - 1] == '/' || filename[strlen(filename) - 1] == '/')\r\n    {\r\n        strcat(filename, \"index.html\");\r\n    } \r\n\u8fd9\u53e5\u600e\u4e48\u4e0d\u4f1a\u51fa\u95ee\u9898\uff1f \u4f60\u5728zv_http_parse_request_line\u91cc\u9762\u89e3\u6790\u7684uri\u3002\u628auri_start\u6307\u5411\u4e86'/'\uff0c\u7136\u540e\u8ba9uri_endi\u6307\u5411\u4e86\u2018 \u2019\u3002 \u5982\u679c\u8981\u7528\u4f60\u4e0a\u9762\u7684\u903b\u8f91\u6765\u5224\u65ad\u7684\u8bdd\uff0c\u4f60\u5e94\u8be5\u628auri_end\u6307\u5411\u7684\u5b57\u7b26\u6539\u4e3a'\\0'\u624d\u5bf9\uff1f\uff1f \u6211\u7406\u89e3\u7684\u5bf9\u4e0d\u5bf9\uff1f \u6211\u5b9e\u5728\u6ca1\u627e\u5230\u4f60\u662f\u5728\u54ea\u628auri\u8bbe\u4e3a\u4ee5Null-terminated\u7684\u5b57\u7b26\u4e32\u7684\u3002 \u8bdd\u8bf4c\u98ce\u683c\u7684\u5b57\u7b26\u4e32\u770b\u7684\u6211\u771f\u7684\u5f88\u86cb\u75bc\u3002\u3002\u3002\u3002\u6211\u600e\u4e48\u611f\u89c9\u8fd9\u4e2ahttp\u670d\u52a1\u5668\u6700\u590d\u6742\u7684\u662f\u89e3\u6790\u62a5\u6587\u8fd9\u90e8\u5206\u3002\u3002\u3002\u53ef\u80fd\u662f\u6211c\u8bed\u8a00\u5b66\u7684\u4e0d\u597d\u3002\u3002\u3002\u3002","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":2,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u4f60\u7684\u7406\u89e3\u662f\u5bf9\u7684\uff0cif(uri[strlen(uri) - 1] == '/' || filename[strlen(filename) - 1] == '/') --&gt; if(filename[strlen(filename)-1] == '/')\u3002\u003c/p>\u003cp>\u89e3\u6790\u62a5\u6587\u662f\u6bd4\u8f83\u7e41\u7410\u7684\u4f46\u4e0d\u96be\u7684\uff0c\u7e41\u7410\u662f\u56e0\u4e3a\u8981\u8003\u8651\u5230\u7f51\u7edc\u7684\u6240\u6709\u53ef\u80fd\u60c5\u51b5\u3002\u7528\u522b\u7684\u8bed\u8a00\u4e0d\u7528\u5199\u8fd9\u4e2a\u90e8\u5206\u662f\u56e0\u4e3a\u522b\u7684\u8bed\u8a00\u90fd\u5e2e\u4f60\u5c01\u88c5\u597d\u4e86\uff0c\u53ea\u6709\u7528C\u8fd9\u79cd\u201c\u6700\u4f4e\u7ea7\u7684\u9ad8\u7ea7\u8bed\u8a00\u201d\u624d\u4f1a\u76f4\u63a5\u5904\u7406socket\u7136\u540e\u8003\u8651\u590d\u6742\u7684\u7f51\u7edc\u60c5\u51b5\u3002\u003c/p>","id":"3004653786","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-02-03T23:38:31","parent":3004653583,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u4f60\u7684\u7406\u89e3\u662f\u5bf9\u7684\uff0cif(uri[strlen(uri) - 1] == '/' || filename[strlen(filename) - 1] == '/') --> if(filename[strlen(filename)-1] == '/')\u3002\r\n\r\n\u89e3\u6790\u62a5\u6587\u662f\u6bd4\u8f83\u7e41\u7410\u7684\u4f46\u4e0d\u96be\u7684\uff0c\u7e41\u7410\u662f\u56e0\u4e3a\u8981\u8003\u8651\u5230\u7f51\u7edc\u7684\u6240\u6709\u53ef\u80fd\u60c5\u51b5\u3002\u7528\u522b\u7684\u8bed\u8a00\u4e0d\u7528\u5199\u8fd9\u4e2a\u90e8\u5206\u662f\u56e0\u4e3a\u522b\u7684\u8bed\u8a00\u90fd\u5e2e\u4f60\u5c01\u88c5\u597d\u4e86\uff0c\u53ea\u6709\u7528C\u8fd9\u79cd\u201c\u6700\u4f4e\u7ea7\u7684\u9ad8\u7ea7\u8bed\u8a00\u201d\u624d\u4f1a\u76f4\u63a5\u5904\u7406socket\u7136\u540e\u8003\u8651\u590d\u6742\u7684\u7f51\u7edc\u60c5\u51b5\u3002","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":3,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u5149\u987e\u7740\u7814\u7a76C-String\u4e86....\u5fd8\u8bb0\u540e\u9762\u7684||\u4e86..... thanks...[ali\u8f6c\u5708\u54ed]\u003c/p>","id":"3004653972","isHighlighted":false,"author":{"name":"ric","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-02-04T02:37:37","parent":3004653786,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u5149\u987e\u7740\u7814\u7a76C-String\u4e86....\u5fd8\u8bb0\u540e\u9762\u7684||\u4e86..... thanks...[ali\u8f6c\u5708\u54ed]","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":4,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>DEBUG src/zaver.c:147: ## ready to accept\u003cbr>DEBUG src/zaver.c:161: new connection fd 5\u003cbr>DEBUG src/zaver.c:147: ## ready to accept\u003cbr>DEBUG src/zaver.c:176: ## end accept\u003cbr>[INFO] (src/zaver.c:189) new task from fd 5\u003cbr>DEBUG src/http.c:46: ROOT=/home/ygxqqx/nihao\u003cbr>[INFO] (src/http.c:69) ready to parse request line\u003cbr>[ERROR] (src/http.c:74: errno: None) rc != ZV_OK\u003cbr>\u5728\u6587\u4ef6\u5939\u4e0b\u653e\u4e86\u4e2ahtml\u6587\u4ef6\u5728\u6d4f\u89c8\u5668\u91cc\u663e\u793a\u4e0d\u51fa\u6765\uff0c\u7ec8\u7aef\u663e\u793a\u4e0a\u9762\u7684\u003cbr>\u4e00\u4e9b\u60c5\u51b5\u003c/p>","id":"3004652093","isHighlighted":false,"author":{"name":"ygxqqx","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-01-25T05:58:22","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"DEBUG src/zaver.c:147: ## ready to accept\r\nDEBUG src/zaver.c:161: new connection fd 5\r\nDEBUG src/zaver.c:147: ## ready to accept\r\nDEBUG src/zaver.c:176: ## end accept\r\n[INFO] (src/zaver.c:189) new task from fd 5\r\nDEBUG src/http.c:46: ROOT=/home/ygxqqx/nihao\r\n[INFO] (src/http.c:69) ready to parse request line\r\n[ERROR] (src/http.c:74: errno: None) rc != ZV_OK\r\n\u5728\u6587\u4ef6\u5939\u4e0b\u653e\u4e86\u4e2ahtml\u6587\u4ef6\u5728\u6d4f\u89c8\u5668\u91cc\u663e\u793a\u4e0d\u51fa\u6765\uff0c\u7ec8\u7aef\u663e\u793a\u4e0a\u9762\u7684\r\n\u4e00\u4e9b\u60c5\u51b5","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u6b63\u5728\u521d\u5b66\u4e2d\u6709\u70b9\u4e0d\u61c2\u554a\uff0c\u9ebb\u70e6\u5b66\u957f\u5e2e\u5fd9\u770b\u770b\u003c/p>","id":"3004653303","isHighlighted":false,"author":{"name":"ygxqqx","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-01-25T06:00:32","parent":3004652093,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u6b63\u5728\u521d\u5b66\u4e2d\u6709\u70b9\u4e0d\u61c2\u554a\uff0c\u9ebb\u70e6\u5b66\u957f\u5e2e\u5fd9\u770b\u770b","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u663e\u793a\u51fa\u6765\u4e86\u6211\u628ahttps\u6539\u4e3ahttp\u5c31\u597d\u4e86\u003c/p>","id":"3004653584","isHighlighted":false,"author":{"name":"ygxqqx","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-01-25T06:13:05","parent":3004653303,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u663e\u793a\u51fa\u6765\u4e86\u6211\u628ahttps\u6539\u4e3ahttp\u5c31\u597d\u4e86","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":2,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u6709bug\u554a centos6.6\u4e0b \u914d\u7f6e\u6587\u4ef6\u91cc\u7684\u8def\u5f84\u89e3\u6790\u51fa\u9519  zaver.conf\u6539\u4e3a /home/ric/www \u5e76\u4e14\u5728www\u76ee\u5f55\u5185\u5efa\u7acbindex.html\u6587\u4ef6 \u7ed3\u679c\u62a5404\u003c/p>\u003cp>404: Not Found\u003c/p>\u003cp>zaver can't find the file: /home/ric/www/ HTTP/1.1 Host: 127.0.0.1:3000 User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Firefox/31.0 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 Accept-Language: zh-cn,zh;q=0.8,en-us;q=0.5,en;q=0.3 Accept-Encoding: gzip, deflate Connection: keep-alive Cache-Control: max-age=0\u003c/p>\u003cp>[INFO] (src/zaver.c:189) new task from fd 5\u003cbr>DEBUG src/http.c:46: ROOT=/home/ric/www\u003cbr>[INFO] (src/http.c:54) read return 0, ready to close fd 5\u003cbr>DEBUG src/zaver.c:147: ## ready to accept\u003cbr>DEBUG src/zaver.c:161: new connection fd 5\u003cbr>DEBUG src/zaver.c:147: ## ready to accept\u003cbr>DEBUG src/zaver.c:176: ## end accept\u003cbr>[INFO] (src/zaver.c:189) new task from fd 5\u003cbr>DEBUG src/http.c:46: ROOT=/home/ric/www\u003cbr>[INFO] (src/http.c:69) ready to parse request line\u003cbr>[INFO] (src/http.c:78) method == GET\u003cbr>[INFO] (src/http.c:79) uri == /\u003cbr>[INFO] (src/http.c:81) ready to parse request body\u003cbr>[INFO] (src/http.c:165) filename = /home/ric/www/ HTTP/1.1\u003cbr>Host: 127.0.0.1:3000\u003cbr>User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Firefox/31.0\u003cbr>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\u003cbr>Accept-Language: zh-cn,zh;q=0.8,en-us;q=0.5,en;q=0.3\u003cbr>Accept-Encoding: gzip, deflate\u003cbr>Connection: keep-alive\u003cbr>Cache-Control: max-age=0\u003c/p>\u003cp>[INFO] (src/http.c:187) leave clienterror\u003c/p>\u003cp>[INFO] (src/zaver.c:189) new task from fd 5\u003cbr>DEBUG src/http.c:46: ROOT=/home/ric/www\u003cbr>[INFO] (src/http.c:54) read return 0, ready to close fd 5\u003c/p>","id":"3004652091","isHighlighted":false,"author":{"name":"ric","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-01-21T01:47:12","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u6709bug\u554a centos6.6\u4e0b \u914d\u7f6e\u6587\u4ef6\u91cc\u7684\u8def\u5f84\u89e3\u6790\u51fa\u9519  zaver.conf\u6539\u4e3a /home/ric/www \u5e76\u4e14\u5728www\u76ee\u5f55\u5185\u5efa\u7acbindex.html\u6587\u4ef6 \u7ed3\u679c\u62a5404\r\n\r\n404: Not Found\r\n\r\nzaver can't find the file: /home/ric/www/ HTTP/1.1 Host: 127.0.0.1:3000 User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Firefox/31.0 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 Accept-Language: zh-cn,zh;q=0.8,en-us;q=0.5,en;q=0.3 Accept-Encoding: gzip, deflate Connection: keep-alive Cache-Control: max-age=0 \r\n\r\n\r\n[INFO] (src/zaver.c:189) new task from fd 5\r\nDEBUG src/http.c:46: ROOT=/home/ric/www\r\n[INFO] (src/http.c:54) read return 0, ready to close fd 5\r\nDEBUG src/zaver.c:147: ## ready to accept\r\nDEBUG src/zaver.c:161: new connection fd 5\r\nDEBUG src/zaver.c:147: ## ready to accept\r\nDEBUG src/zaver.c:176: ## end accept\r\n[INFO] (src/zaver.c:189) new task from fd 5\r\nDEBUG src/http.c:46: ROOT=/home/ric/www\r\n[INFO] (src/http.c:69) ready to parse request line\r\n[INFO] (src/http.c:78) method == GET\r\n[INFO] (src/http.c:79) uri == /\r\n[INFO] (src/http.c:81) ready to parse request body\r\n[INFO] (src/http.c:165) filename = /home/ric/www/ HTTP/1.1\r\nHost: 127.0.0.1:3000\r\nUser-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Firefox/31.0\r\nAccept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8\r\nAccept-Language: zh-cn,zh;q=0.8,en-us;q=0.5,en;q=0.3\r\nAccept-Encoding: gzip, deflate\r\nConnection: keep-alive\r\nCache-Control: max-age=0\r\n\r\n\r\n[INFO] (src/http.c:187) leave clienterror\r\n\r\n[INFO] (src/zaver.c:189) new task from fd 5\r\nDEBUG src/http.c:46: ROOT=/home/ric/www\r\n[INFO] (src/http.c:54) read return 0, ready to close fd 5","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u535a\u4e3b \u4f60\u7684prase_uri\u51fd\u6570\u91cc\u9762\u7528\u4e86index rindex\u51fd\u6570 \u8fd9\u4e9b\u4e0d\u662fc\u7684\u6807\u51c6\u51fd\u6570\u800c\u662fposix\u7684,\u8fd9\u5728\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u91cc\u9762\u4f1a\u4e0d\u4f1a\u6709\u95ee\u9898?\u003c/p>","id":"3004653301","isHighlighted":false,"author":{"name":"ric","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-01-22T01:30:16","parent":3004652091,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u535a\u4e3b \u4f60\u7684prase_uri\u51fd\u6570\u91cc\u9762\u7528\u4e86index rindex\u51fd\u6570 \u8fd9\u4e9b\u4e0d\u662fc\u7684\u6807\u51c6\u51fd\u6570\u800c\u662fposix\u7684,\u8fd9\u5728\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u91cc\u9762\u4f1a\u4e0d\u4f1a\u6709\u95ee\u9898?","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u4f60\u8bf4\u7684\u5bf9\uff0c\u6211\u4e4b\u540e\u4f1a\u6539\u6210strchr\u548cstrrchr\u003c/p>","id":"3004653580","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-01-22T15:31:25","parent":3004653301,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u4f60\u8bf4\u7684\u5bf9\uff0c\u6211\u4e4b\u540e\u4f1a\u6539\u6210strchr\u548cstrrchr","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":2,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u53ef\u4ee5\u8fd0\u884c\u4e86  \u8c22\u8c22\u535a\u4e3b\u8ba9\u6211\u5b66\u5230\u4e0d\u5c11\u77e5\u8bc6!\u003c/p>","id":"3004653582","isHighlighted":false,"author":{"name":"ric","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-01-23T01:47:32","parent":3004653580,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u53ef\u4ee5\u8fd0\u884c\u4e86  \u8c22\u8c22\u535a\u4e3b\u8ba9\u6211\u5b66\u5230\u4e0d\u5c11\u77e5\u8bc6!","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":3,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u771f\u662f\u5947\u602a \u6211\u5728\u53f0\u5f0f\u673aAMD\u7684cpu\u5c31\u53ef\u4ee5,\u6362\u6210\u7b14\u8bb0\u672cintel\u7684cpu \u5c31\u4f1a\u51fa\u73b0uri\u89e3\u6790\u51fa\u9519....\u003c/p>","id":"3004653579","isHighlighted":false,"author":{"name":"ric","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-01-22T01:46:59","parent":3004653301,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u771f\u662f\u5947\u602a \u6211\u5728\u53f0\u5f0f\u673aAMD\u7684cpu\u5c31\u53ef\u4ee5,\u6362\u6210\u7b14\u8bb0\u672cintel\u7684cpu \u5c31\u4f1a\u51fa\u73b0uri\u89e3\u6790\u51fa\u9519....","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":2,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u6211\u521a\u521a\u68c0\u67e5\u4e86\u4e00\u4e0b\uff0c\u9879\u76ee\u6709\u4e00\u4e2apull request\u51fa\u4e86\u4e00\u4e2abug\uff0c\u88abmerge\u8fdb\u6765\u4e86\uff0c\u6240\u4ee5\u53ef\u80fd\u5bfc\u81f4\u4f60\u8bf4\u7684\u95ee\u9898\uff0c\u4f60\u518d\u62c9\u4e00\u4e0b\u4ee3\u7801\u8bd5\u4e00\u4e0b\u5e94\u8be5\u53ef\u4ee5\u4e86\u003c/p>","id":"3004653780","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-01-22T16:19:39","parent":3004653579,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u6211\u521a\u521a\u68c0\u67e5\u4e86\u4e00\u4e0b\uff0c\u9879\u76ee\u6709\u4e00\u4e2apull request\u51fa\u4e86\u4e00\u4e2abug\uff0c\u88abmerge\u8fdb\u6765\u4e86\uff0c\u6240\u4ee5\u53ef\u80fd\u5bfc\u81f4\u4f60\u8bf4\u7684\u95ee\u9898\uff0c\u4f60\u518d\u62c9\u4e00\u4e0b\u4ee3\u7801\u8bd5\u4e00\u4e0b\u5e94\u8be5\u53ef\u4ee5\u4e86","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":3,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u6700\u597d\u5728linux\u4e0b\u8fd0\u884c\uff0c\u548ccpu\u5382\u5546\u6ca1\u6709\u5173\u7cfb\u003c/p>","id":"3004653779","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-01-22T15:30:34","parent":3004653579,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u6700\u597d\u5728linux\u4e0b\u8fd0\u884c\uff0c\u548ccpu\u5382\u5546\u6ca1\u6709\u5173\u7cfb","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":3,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u51c6\u5907\u5bf9\u7740\u4ee3\u7801\u6572\u4e00\u904d \u5b66\u4e60\u4e86 \u8c22\u8c22\u535a\u4e3b\u561e\u003c/p>","id":"3004652090","isHighlighted":false,"author":{"name":"eee","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2016-01-13T04:18:53","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u51c6\u5907\u5bf9\u7740\u4ee3\u7801\u6572\u4e00\u904d \u5b66\u4e60\u4e86 \u8c22\u8c22\u535a\u4e3b\u561e","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u697c\u4e3b\u4f60\u597d\uff0c\u6211\u5728linux\u91cc\u9762\u8fd0\u884c\u4e86\u4f60\u7684web server\uff0c\u53ea\u51fa\u73b0\u4e86\u56db\u4e2a[INFO]\u53e5\uff0c\u7136\u540e\u5c31\u6ca1\u6709\u7136\u540e\u4e86\u3002\u3002\u3002\u6c42\u95ee\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u554a\u003c/p>","id":"3004652089","isHighlighted":false,"author":{"name":"asker","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2015-09-07T20:32:12","parent":null,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u697c\u4e3b\u4f60\u597d\uff0c\u6211\u5728linux\u91cc\u9762\u8fd0\u884c\u4e86\u4f60\u7684web server\uff0c\u53ea\u51fa\u73b0\u4e86\u56db\u4e2a[INFO]\u53e5\uff0c\u7136\u540e\u5c31\u6ca1\u6709\u7136\u540e\u4e86\u3002\u3002\u3002\u6c42\u95ee\u600e\u4e48\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u554a","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":0,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u4f60\u597d\u3002\u80fd\u4e0d\u80fd\u63d0\u4f9b\u4e00\u4e9b\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\uff1f\u003c/p>","id":"3004653299","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2015-09-09T19:01:32","parent":3004652089,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u4f60\u597d\u3002\u80fd\u4e0d\u80fd\u63d0\u4f9b\u4e00\u4e9b\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\uff1f","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":1,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>azureuser@ubuntutodo:~/zaver$ ./objs/zaver -c zaver.conf\u003cbr>DEBUG src/zaver.c:71: conffile = zaver.conf\u003cbr>[INFO] (src/threadpool.c:53) thread: 69a56700 started\u003cbr>[INFO] (src/threadpool.c:53) thread: 69255700 started\u003cbr>[INFO] (src/threadpool.c:53) thread: 68a54700 started\u003cbr>[INFO] (src/threadpool.c:53) thread: 68253700 started\u003c/p>\u003cp>\u5c31\u662f\u51fa\u73b0\u4e0a\u9762\u7684\uff0c\u7136\u540e\u5c31\u5361\u4f4f\u4e86\uff0c\u8f93\u4e0d\u4e86\u547d\u4ee4\u4e86\uff0c\u53ea\u597dctrl+c\u9000\u51fa\u624d\u53ef\u4ee5\uff0c\u6c42\u89e3\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\u003c/p>","id":"3004653585","isHighlighted":false,"author":{"name":"asker","url":"","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2015-09-09T20:21:29","parent":3004653299,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"azureuser@ubuntutodo:~/zaver$ ./objs/zaver -c zaver.conf\r\nDEBUG src/zaver.c:71: conffile = zaver.conf\r\n[INFO] (src/threadpool.c:53) thread: 69a56700 started\r\n[INFO] (src/threadpool.c:53) thread: 69255700 started\r\n[INFO] (src/threadpool.c:53) thread: 68a54700 started\r\n[INFO] (src/threadpool.c:53) thread: 68253700 started\r\n\r\n\u5c31\u662f\u51fa\u73b0\u4e0a\u9762\u7684\uff0c\u7136\u540e\u5c31\u5361\u4f4f\u4e86\uff0c\u8f93\u4e0d\u4e86\u547d\u4ee4\u4e86\uff0c\u53ea\u597dctrl+c\u9000\u51fa\u624d\u53ef\u4ee5\uff0c\u6c42\u89e3\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":2,"points":0,"moderationLabels":["anonymous"],"isEdited":false},{"dislikes":0,"numReports":0,"likes":0,"message":"\u003cp>\u56e0\u4e3a\u8fd9\u4e2a\u8fdb\u7a0b\u542f\u52a8\u4e86\uff0c\u6240\u4ee5\u5c31\u201c\u5361\u4f4f\u4e86\u201d\u3002\u4f60\u5728zaver.conf\u91cc\u8bbe\u7f6e\u4e86\u6b63\u786e\u7684\u7f51\u7ad9\u8def\u5f84\u540e\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee\u7f51\u7ad9\u4e86\u003c/p>","id":"3004653776","isHighlighted":false,"author":{"name":"\u6731\u4f73\u987a","url":"http://lifeofzjs.com/","profileUrl":"","emailHash":"","avatar":{"small":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar32.png","cache":"//a.disquscdn.com/1493423801/images/noavatar32.png"},"large":{"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"permalink":"//a.disquscdn.com/1493423801/images/noavatar92.png","cache":"//a.disquscdn.com/1493423801/images/noavatar92.png"},"signedUrl":"http://disq.us/?url=http%3A%2F%2Flifeofzjs.com%2F&key=V0ol6MnvlgQmOUAAfRnm5g","isAnonymous":true},"media":[],"isSpam":false,"isDeletedByAuthor":false,"createdAt":"2015-09-09T20:28:17","parent":3004653585,"isApproved":true,"isDeleted":false,"isFlagged":false,"raw_message":"\u56e0\u4e3a\u8fd9\u4e2a\u8fdb\u7a0b\u542f\u52a8\u4e86\uff0c\u6240\u4ee5\u5c31\u201c\u5361\u4f4f\u4e86\u201d\u3002\u4f60\u5728zaver.conf\u91cc\u8bbe\u7f6e\u4e86\u6b63\u786e\u7684\u7f51\u7ad9\u8def\u5f84\u540e\uff0c\u5c31\u53ef\u4ee5\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee\u7f51\u7ad9\u4e86","shadowBanned":false,"canVote":false,"thread":"5308187592","forum":"zyearnsblog","depth":3,"points":0,"moderationLabels":["anonymous"],"isEdited":false}],"thread":{"feed":"https://zyearnsblog.disqus.com/web_zyearns_blog/latest.rss","identifiers":["http://zyearn.github.io/blog/2015/05/16/how-to-write-a-server/","ca5e4cdb9fecdfea52c70b55154912e4"],"dislikes":0,"likes":0,"message":"","id":"5308187592","createdAt":"2015-05-18T03:07:18","category":"2528848","author":"43967986","isSpam":false,"signedLink":"http://disq.us/?url=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server&key=_AJ4fIzA8g6uRcW_3T43LQ","isDeleted":false,"hasStreaming":false,"raw_message":"","isClosed":false,"link":"http://zyearn.github.io/blog/2015/05/16/how-to-write-a-server","slug":"web_zyearns_blog","forum":"zyearnsblog","clean_title":"\u5982\u4f55\u5199\u4e00\u4e2aWeb\u670d\u52a1\u5668","posts":60,"moderators":[43967986],"title":"\u5982\u4f55\u5199\u4e00\u4e2aWeb\u670d\u52a1\u5668 - zyearn's blog","highlightedPost":null}},"order":"popular"}</script>

    

    <div id="fixed-content"></div>


    
        
<script type="text/json" id="disqus-urls">{
    "root":"//disqus.com",
    "next":"https://c.disquscdn.com/next/current/embed"
}</script>

        
        <script>!function () {
            var d = document;
            var toH = d.head.appendChild.bind(d.head);

            var v = window.location.href.match(/[#&?]version=([0-9a-f]{32})/);
            var src = 'https://c.disquscdn.com/next/embed/lounge.load';
            if (v)
                src += '.' + v[1];
            src += '.js';

            var s = d.createElement('script');
            s.crossOrigin = 'anonymous';
            s.id = 'bootstrap-script';
            s.setAttribute('data-app', 'lounge');
            s.src = src;
            toH(s);

            var m = d.createElement('meta');
            m.setAttribute('http-equiv', 'Content-Security-Policy');
            m.setAttribute('content', "script-src https:;");
            toH(m);
        }();</script>
    


<script src="./common.bundle.94805df7d922d8c7efc1170776463a6c.js"></script><div id="layout" data-tracking-area="layout"><div id="onboard" data-tracking-area="onboard"><div></div></div><div id="highlighted-post" data-tracking-area="highlighted" class="highlighted-post" style="display: none;"></div><div id="global-alert"></div><header id="main-nav" data-tracking-area="main-nav"><nav class="nav nav-primary"><ul><li class="nav-tab nav-tab--primary tab-conversation active" data-role="post-count"><a class="publisher-nav-color"><span class="comment-count">60 comments</span><span class="comment-count-placeholder">Comments</span></a></li><li class="nav-tab nav-tab--primary tab-community"><a href="https://disqus.com/home/forums/zyearnsblog/" class="publisher-nav-color" data-action="community-sidebar" data-forum="zyearnsblog" id="community-tab"><span class="community-name"><strong>zyearn's blog</strong></span><strong class="community-name-placeholder">Community</strong></a></li><li class="nav-tab nav-tab--primary dropdown user-menu" data-role="logout"><a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="dropdown-toggle" data-toggle="dropdown">
<span class="dropdown-toggle-wrapper">

<span>
Login
</span>

</span> <span class="caret"></span>
</a>
<ul class="dropdown-menu">


<li>
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="auth:disqus">Disqus</a>
</li>
<li>
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="auth:facebook">Facebook</a>
</li>
<li>
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="auth:twitter">Twitter</a>
</li>
<li>
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="auth:google">Google</a>
</li>



</ul>
</li><li class="nav-tab nav-tab--primary notification-menu unread" data-role="notification-menu"><a href="https://disqus.com/home/inbox/" class="notification-container" data-action="home" data-home-path="home/inbox/">
<span class="notification-icon icon-comment" aria-hidden=""></span>
<span class="notification-count" data-role="notification-count">1</span>
</a>
</li></ul></nav></header><section id="conversation" data-role="main" data-tracking-area="main"><div class="nav nav-secondary" data-tracking-area="secondary-nav"><ul><li id="recommend-button" class="nav-tab nav-tab--secondary recommend dropdown"><div class="thread-likes"><a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="recommend" title="Recommend this discussion" class="dropdown-toggle ">
<span class="label label-default"><span class="recommend-icon icon-heart-empty"></span> Recommend</span>
<span class="label label-recommended"><span class="recommend-icon icon-heart"></span> Recommended</span>
</a>
<ul class="dropdown-menu dropdown-menu--coachmark">
<li>
<h2 class="coachmark__heading">Discussion Recommended!</h2>
<p class="coachmark__description">Recommending means this is a discussion worth sharing. It gets shared to your followers' Disqus feeds, and gives the creator kudos!</p>
<a href="https://disqus.com/home/?utm_source=disqus_embed&amp;utm_content=recommend_btn" class="btn btn-primary coachmark__button" target="_blank">
 Find More Discussions 
</a>
</li>
</ul>
</div></li><li id="thread-share-menu" class="nav-tab nav-tab--secondary dropdown share-menu hidden-sm"><a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="dropdown-toggle" data-toggle="dropdown" title="Share">
<span class="icon-export"></span>
<span class="label">Share</span>
</a>
<ul class="share-menu dropdown-menu">
<li>
<div class="share-menu__label">Share this discussion on</div>
<ul>
<li class="twitter">
<a data-action="share:twitter" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#">Twitter</a>
</li>
<li class="facebook">
<a data-action="share:facebook" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#">Facebook</a>
</li>
</ul>
</li>
</ul>
</li><li data-role="post-sort" class="nav-tab nav-tab--secondary dropdown sorting pull-right"><a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="dropdown-toggle" data-toggle="dropdown">Sort by Best<span class="caret"></span></a><ul class="dropdown-menu pull-right"><li class="selected"><a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="sort" data-sort="popular">Best<i aria-hidden="true" class="icon-checkmark"></i></a></li><li class=""><a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="sort" data-sort="desc">Newest<i aria-hidden="true" class="icon-checkmark"></i></a></li><li class=""><a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="sort" data-sort="asc">Oldest<i aria-hidden="true" class="icon-checkmark"></i></a></li></ul></li></ul></div><div id="posts"><div id="form" class="textarea-wrapper--top-level"><form class="reply"><div class="postbox">
<div role="alert"></div>
<div class="avatar">
<span class="user">
<img data-role="user-avatar" src="./noavatar92.7b2fde640943965cc88df0cdee365907.png" alt="Avatar">
</span>
</div>

<div class="textarea-wrapper" data-role="textarea" dir="auto"><div><span class="placeholder">Join the discussion…</span><div class="textarea" tabindex="0" role="textbox" aria-multiline="true" contenteditable="PLAINTEXT-ONLY" data-role="editable" aria-label="Join the discussion…" style="overflow: auto; word-wrap: break-word; max-height: 350px;"><p><br></p></div><div style="display: none;"><ul class="user-mention__list">
<li class="header user-mention__header">
<h5>in this conversation</h5>
</li>
</ul>
</div></div>
<div data-role="drag-drop-placeholder" class="media-drag-hover" style="display: none">
<div class="drag-text">
⬇ Drag and drop your images here to upload them.
</div>
</div>
<div class="media-preview empty" data-role="media-preview"><ul data-role="media-progress-list"></ul>
<ul data-role="media-rich-list"></ul>
<div class="media-expanded empty" data-role="media-preview-expanded">
<img src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" data-role="media-preview-expanded-image" alt="Media preview placeholder">
</div>
</div>
<div class="edit-alert" role="postbox-alert"></div>
<div class="post-actions">
<ul class="wysiwyg">
<li class="wysiwyg__item" data-role="media-uploader"><a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" tabindex="-1" data-action="attach" class="attach" title="Upload Images"><span>Attach</span></a>
<input type="file" data-role="media-upload" tabindex="-1" accept="image/*">
</li>
</ul>
</div>
</div>

<div data-role="login-form"><div><section class="auth-section logged-out">
<div class="connect">
<h6>Log in with</h6>
<ul data-role="login-menu" class="services login-buttons">

<li class="auth-disqus">
<button type="button" data-action="auth:disqus" title="Disqus" class="connect__button"><i class="icon-disqus"></i></button>
</li>
<li class="auth-facebook">
<button type="button" data-action="auth:facebook" title="Facebook" class="connect__button"><i class="icon-facebook-circle"></i></button>
</li>
<li class="auth-twitter">
<button type="button" data-action="auth:twitter" title="Twitter" class="connect__button"><i class="icon-twitter-circle"></i></button>
</li>
<li class="auth-google">
<button type="button" data-action="auth:google" title="Google" class="connect__button"><i class="icon-google-plus-circle"></i></button>
</li>
</ul>
</div>
<div class="guest">
<h6 class="guest-form-title">
<span class="register-text"> or sign up with Disqus </span>
<span class="guest-text"> or pick a name </span>
</h6>

<div class="help-tooltip__wrapper help-icon">
<div id="rules" class="tooltip show help-tooltip">
<h3 class="help-tooltip__heading">Disqus is a discussion network</h3>
<ul class="help-tooltip__list">
<li><span>Disqus never moderates or censors. The rules on this community are its own.</span></li>
<li><span>Your email is safe with us. It's only used for moderation and optional notifications.</span></li>
<li><span>Don't be a jerk or do anything illegal. Everything is easier that way.</span></li>
</ul>
<p class="clearfix"><a href="https://docs.disqus.com/kb/terms-and-policies/" class="btn btn-small help-tooltip__button" target="_blank">Read full terms and conditions</a></p>
</div>
</div>

<p class="input-wrapper">
<input dir="auto" type="text" placeholder="Name" name="display_name" id="view127_display_name" maxlength="30" class="input--text">
</p>

<div class="guest-details " data-role="guest-details">
<p class="input-wrapper">
<input dir="auto" type="email" placeholder="Email" name="email" id="view127_email" class="input--text">
</p>

<p class="input-wrapper">
<input dir="auto" type="password" class="register-text input--text" placeholder="Password" name="password" id="view127_password">
</p>

<div class="acceptance-wrapper register-text">
By signing up, you agree to the Disqus <a target="_blank" href="https://help.disqus.com/customer/portal/articles/1753105-basic-rules-for-disqus-powered-profiles-and-discussions">Basic Rules</a>, <a target="_blank" href="https://help.disqus.com/customer/portal/articles/466260-terms-of-service">Terms of Service</a>, and <a target="_blank" href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy">Privacy Policy</a>.
</div>
<div class="acceptance-wrapper guest-text">
By posting, you agree to the Disqus <a target="_blank" href="https://help.disqus.com/customer/portal/articles/1753105-basic-rules-for-disqus-powered-profiles-and-discussions">Basic Rules</a>, <a target="_blank" href="https://help.disqus.com/customer/portal/articles/466260-terms-of-service">Terms of Service</a>, and <a target="_blank" href="https://help.disqus.com/customer/portal/articles/466259-privacy-policy">Privacy Policy</a>.
</div>

<input type="checkbox" name="author-guest" style="display:none">

<div class="proceed" data-role="submit-btn-container">
<button type="submit" class="proceed__button btn submit" aria-label="Next"><span class="icon-proceed"></span><div class="spinner"></div></button>
</div>
</div>
</div>
</section>

</div></div>
</div>
</form></div><button class="alert alert--realtime" data-role="realtime-notification" style="display: none;"></button><div id="no-posts" style="display: none;"></div><ul id="post-list" class="post-list"><li class="post" id="post-3004652107"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">毕竟是土羊</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652107" data-role="relative-time" class="time-ago" title="Monday, November 7, 2016 7:40 AM">
6 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>你好，请问怎么学习定时器？你http服务器开发的书籍资料推荐的吗？linux C的？？谢谢。</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4ej" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652107">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653319"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652107" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> 毕竟是土羊</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653319" data-role="relative-time" class="time-ago" title="Monday, November 7, 2016 10:00 AM">
6 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>1. Nginx源码的定时器写得比较不错<br>2. 看一些小型服务器源码、看UNP，国内陈硕的《Linux多线程服务器端编程》</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5c7" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653319">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-3004652108"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">vincentcab</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652108" data-role="relative-time" class="time-ago" title="Thursday, September 29, 2016 9:47 PM">
7 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>你好，又看了一遍，想问http.c 文件中， do_request()函数里 break的地方，转到了for循环外函数zv_add_timer(r, TIMEOUT_DEFAULT, zv_http_close_conn)，但是貌似在这个地方之前的那个r-&gt;timer_node还没有释放？</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4ek" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652108">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653316"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">vincentcab</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652108" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> vincentcab</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653316" data-role="relative-time" class="time-ago" title="Thursday, September 29, 2016 10:52 PM">
7 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>不好意思.我知道了，timer_node都交给了zv_timer管理</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5c4" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653316">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-3004652104"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">forward</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652104" data-role="relative-time" class="time-ago" title="Monday, July 25, 2016 10:28 AM">
9 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>你好，我用webbench进行压力测试的时候当设置为1200的时候为什么会直接崩掉呢，连系统都崩掉，你测试的时候会吗</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4eg" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652104">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653314"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652104" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> forward</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653314" data-role="relative-time" class="time-ago" title="Saturday, July 30, 2016 2:19 AM">
9 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>并不会，你可以把错误日志在github上issue给我，谢谢。</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5c2" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653314">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-3004652103"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">cs_guan</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652103" data-role="relative-time" class="time-ago" title="Saturday, July 23, 2016 4:25 AM">
9 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>楼主，你好，看你的代码让我学习到不少，但是定时器中为何在do_request中进行zv_del_timer为何仅仅是标记delete=1而不是直接进行删除呢</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4ef" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652103">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653315"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">cs_guan</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652103" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> cs_guan</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653315" data-role="relative-time" class="time-ago" title="Saturday, July 23, 2016 4:39 AM">
9 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>忘了只能饿删除堆顶元素了，未必是堆顶元素所以不能删</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5c3" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653315">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-3004652102"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">wengs</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652102" data-role="relative-time" class="time-ago" title="Monday, July 11, 2016 12:06 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container" style="height: 374px;">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>我之前程序的问题没有考虑长连接，谢谢学长提醒。<br>然后我总结了一下，主要是因为没有考虑长连接，所以服务器端发送完数据之后直接将fd  close掉。上网查了一下，如果send之后马上调用close会导致数据发送不完整(我想可能是客户端先接收到了服务器端发送的FIN，后面就不再接受服务器端的数据了)，于是导致客户端解析出现问题。但是我发现你代码里面好像这个问题也没有做处理：<br>       serve_static(fd, filename, sbuf.st_size, out);</p><p>      if (!out-&gt;keep_alive) {<br>            log_info("no keep_alive! ready to close");<br>            free(out);<br>            goto close;<br>        }</p><p>后面也直接调用close了，不知道是不是我没看到你的处理细节，还请学长指教。</p><p>另一方面，您在处理长连接时，主要就是free(out)之后，重新开始循环，然后走到read函数，一般客户端没有这么快再次发送请求过来，所以read返回应该是0，于是<br>   if (n == 0) {   <br>            // EOF<br>            log_info("read return 0, ready to close fd %d, remain_size = %zu", fd, remain_size);<br>            goto err;<br>        }</p><p>直接走到err，就是把fd close掉，因此感觉您这里的长连接好像处理的有点草率？大多数时候其实还是直接close掉了，和没有长连接似乎没什么区别？</p><p>最后一个是：<br>       rc = zv_http_parse_request_line(r);<br>        if (rc == ZV_AGAIN) {<br>            continue;</p><p>这里如果客户端发送的头不完整然后直接蹦了，是不是会导致这里出现死循环？</p><p>菜鸟一枚，非常感谢学长指导，希望可以多多交流，谢谢学长o(∩_∩)o</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4ee" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652102">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653313"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652102" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> wengs</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653313" data-role="relative-time" class="time-ago" title="Friday, July 15, 2016 10:09 AM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>抱歉看到回复晚了。<br>1. 给出点依据或者能运行的例子？<br>2. n==0一定是对方关闭了socket，所以server也关闭有问题吗？对方没关闭socket，read一定会返回EAGAIN</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5c1" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653313">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-3004653312"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">wengs</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652102" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> wengs</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653312" data-role="relative-time" class="time-ago" title="Monday, July 11, 2016 12:34 PM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>学长不好意思第三个问题看漏了，read是可以退出循环的</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5c0" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653312">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-3004652101"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">wengs</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652101" data-role="relative-time" class="time-ago" title="Sunday, July 10, 2016 3:35 AM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>学长好，最近在看你写的web服务器代码，收益匪浅。也开始尝试写自己的server，感觉调试真是艰难，不知道学长有没有什么调试工具推荐。在人肉调试的过程中，如果自己写客户端向服务器发http请求，响应一切正常，但是如果直接用web浏览器（chrome）作为客户端，就会出现各种问题，有时甚至可以把服务器搞崩溃掉。不知道自己写的客户端和浏览器之间到底有什么差别需要注意的呢？谢谢学长^_^</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4ed" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652101">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653311"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652101" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> wengs</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653311" data-role="relative-time" class="time-ago" title="Monday, July 11, 2016 8:57 AM">
10 months ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>调试的话，用GDB和打log都可以，多线程比较难调。Web游览器一般都是用长连接，这个你考虑过吗？你可以打开Chrome开发者工具的Network，看哪一条请求失败了，结合着server的log联调一下。</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5bz" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653311">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-3004652100"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">明川</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652100" data-role="relative-time" class="time-ago" title="Wednesday, May 4, 2016 5:06 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>好文章啊！收藏了</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4ec" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652100">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-3004652099"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">vivi</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652099" data-role="relative-time" class="time-ago" title="Monday, March 21, 2016 11:12 PM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>博主写的很不错[good]学习到了</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4eb" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652099">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-3004652098"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ricardo</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652098" data-role="relative-time" class="time-ago" title="Monday, March 14, 2016 4:41 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>博主 有木有可能线程池中的两个线程同时处理同一个fd呢？ 一个线程读取完某个socket上的数据后开始处理数据，而在数据处理的过程中这个socket又有新数据可读了（EPOLLIN被再次触发），此时唤醒另一个线程来读取这些数据并处理这些新的数据。 似乎你并没有给socket描述符注册EPOLLONESHOT事件，博主这样不会出问题？ 或者你是用别的办法处理的？</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4ea" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652098">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653310"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652098" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ricardo</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653310" data-role="relative-time" class="time-ago" title="Monday, March 14, 2016 8:39 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>对，这个我确实没有考虑，两个方法：<br>1. EPOLLONESHOT<br>2. 为每个fd加锁<br>第二个方法太复杂，一般都用像你说的第一个方法。<br>这个bug已经fix了，你可以看看我的最新修改，看看有没有什么问题 :)</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5by" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653310">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653591"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ricardo</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653310" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> 朱佳顺</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653591" data-role="relative-time" class="time-ago" title="Friday, March 25, 2016 2:19 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>我感觉 zv_handle_expire_timers(); 这句应该加到</p><p>    }   //end of for<br>   zv_handle_expire_timers(); // 这里来 IO事件的优先级应该更高吧？ 毕竟活跃的连接才是优先级最高的<br>    }   // end of while(1)</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5jr" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653591">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653790"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653591" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ricardo</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653790" data-role="relative-time" class="time-ago" title="Friday, March 25, 2016 2:38 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>这个顺序不那么重要：如果epoll是因为timer过期返回，那么就没有IO事件，所以顺序无所谓；如果epoll是因为IO事件返回，所以没有timer过期，那么zv_handle_expire_timers这个函数几乎没影响。</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5pa" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653790">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653973"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ricardo</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653790" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> 朱佳顺</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653973" data-role="relative-time" class="time-ago" title="Friday, March 25, 2016 4:27 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>对的 time = zv_find_timer(); 每次事件循环都更新一下time    epoll会在time到时返回 我忘记多路复用本身也能定时了，我还一直在找有木有alarm。。。  还有你github上的线程池都被你注释掉了</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5ud" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653973">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653975"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653973" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ricardo</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653975" data-role="relative-time" class="time-ago" title="Friday, March 25, 2016 4:50 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>现在多线程和timer的混合使用有竞争问题，单纯地加锁性能可能会下降，我正在找更好的办法</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5uf" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653975">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li></ul>
</li><li class="post" id="post-3004653788"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ricardo</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653591" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ricardo</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653788" data-role="relative-time" class="time-ago" title="Friday, March 25, 2016 2:23 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>zx_http_handle_header // zx?  zv吧？</p><p>log_err("install sigal handler for SIGPIPI failed"); // SIGPIPI ？ typo</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5p8" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653788">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653791"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653788" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ricardo</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653791" data-role="relative-time" class="time-ago" title="Friday, March 25, 2016 2:38 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>Thks</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5pb" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653791">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li class="post" id="post-3004652096"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ricardo</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652096" data-role="relative-time" class="time-ago" title="Friday, March 11, 2016 9:08 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>博主 <br>if (n == 0) {   // EOF<br>            log_info("read return 0, ready to close fd %d", fd);<br>            goto err;<br>        }<br>这里 客户端断开连接后, goto 到err</p><p>err:<br>close:<br>    close(fd);<br>    free(ptr);<br>}</p><p>err这里只是close掉fd, 但没有 epoll_ctl(efd, EPOLL_CTL_DEL, fd, &amp;tmp) <br>不把关闭的fd从epoll里面delete掉可以吗? 还是close后自动从epoll中删除掉了?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4e8" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652096">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653307"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652096" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ricardo</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653307" data-role="relative-time" class="time-ago" title="Saturday, March 12, 2016 2:45 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>close后自动从epoll中删除掉，详细请看：<a href="http://disq.us/url?url=http%3A%2F%2Fstackoverflow.com%2Fquestions%2F8707601%2Fis-it-necessary-to-deregister-a-socket-from-epoll-before-closing-it%3A7JrRfY4sVy2joIYmxpq5wOeg03I&amp;cuid=2491765" rel="nofollow noopener">http://stackoverflow.com/qu...</a></p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5bv" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653307">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-3004653308"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ricardo</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652096" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ricardo</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653308" data-role="relative-time" class="time-ago" title="Friday, March 11, 2016 9:09 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>http.c文件 53行 和 138行</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5bw" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653308">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-3004652094"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ric</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652094" data-role="relative-time" class="time-ago" title="Monday, February 29, 2016 11:46 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>博主 我没找到你在哪 free(event[i].data.ptr)  如果有Keep-alive头那就保持一个长连接,如果没有服务端主动断开连接,但是你没释放event[i].data.ptr啊? 这样不就内存泄露了?  http.c文件 139行的free(ptr);你注释掉了.为什么? 求博主解惑</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4e6" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652094">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653304"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652094" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ric</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653304" data-role="relative-time" class="time-ago" title="Monday, February 29, 2016 11:50 PM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>我当时为了调试一个功能就把它注释掉了，你需要把注释删掉，记得交换close(fd)和free(ptr)的顺序，否则因为线程调度问题会引入bug。我把修改过的代码推到github了，你可以直接拉最新的代码</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5bs" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653304">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653589"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ric</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653304" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> 朱佳顺</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653589" data-role="relative-time" class="time-ago" title="Tuesday, March 1, 2016 5:25 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>[ok]</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5jp" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653589">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-3004653305"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ric</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652094" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ric</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653305" data-role="relative-time" class="time-ago" title="Monday, February 29, 2016 11:47 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>events[i].data.ptr 怎么搞得...[]变成表情...</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5bt" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653305">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-3004652092"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ric</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652092" data-role="relative-time" class="time-ago" title="Monday, February 1, 2016 10:49 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p><a href="http://disq.us/url?url=http%3A%2F%2Fhttp_parse.co%3Ajajt_G-VgRXguWn-jkohiV2TeuM&amp;cuid=2491765" rel="nofollow noopener">http_parse.co</a>中355行 hd = (zv_http_request_t *)malloc(sizeof(zv_http_request_t)); 这一句 为什么要zv_http_header_t 类型的指针指向一块zv_http_request_t大小的内存？ 直接 hd = (zv_http_header_t *)malloc(sizeof(zv_http_header_t)); 不行吗？</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4e4" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652092">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653302"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652092" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ric</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653302" data-role="relative-time" class="time-ago" title="Wednesday, February 3, 2016 5:46 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>你看得很仔细，这里貌似分配错空间大小了，因为分配的比需要的大，所以运行起来“看上去”没有问题，其实浪费了一些内存。感谢 :)</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5bq" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653302">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653583"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ric</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653302" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> 朱佳顺</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653583" data-role="relative-time" class="time-ago" title="Wednesday, February 3, 2016 9:50 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>博主 你的parse_uri函数里面参数 uri指向的貌似不是'\0'结尾的字符串吧？<br> if(uri[strlen(uri) - 1] == '/' || filename[strlen(filename) - 1] == '/')<br>    {<br>        strcat(filename, "index.html");<br>    } <br>这句怎么不会出问题？ 你在zv_http_parse_request_line里面解析的uri。把uri_start指向了'/'，然后让uri_endi指向了‘ ’。 如果要用你上面的逻辑来判断的话，你应该把uri_end指向的字符改为'\0'才对？？ 我理解的对不对？ 我实在没找到你是在哪把uri设为以Null-terminated的字符串的。 话说c风格的字符串看的我真的很蛋疼。。。。我怎么感觉这个http服务器最复杂的是解析报文这部分。。。可能是我c语言学的不好。。。。</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5jj" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653583">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653786"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653583" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ric</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653786" data-role="relative-time" class="time-ago" title="Thursday, February 4, 2016 7:38 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>你的理解是对的，if(uri[strlen(uri) - 1] == '/' || filename[strlen(filename) - 1] == '/') --&gt; if(filename[strlen(filename)-1] == '/')。</p><p>解析报文是比较繁琐的但不难的，繁琐是因为要考虑到网络的所有可能情况。用别的语言不用写这个部分是因为别的语言都帮你封装好了，只有用C这种“最低级的高级语言”才会直接处理socket然后考虑复杂的网络情况。</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5p6" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653786">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653972"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ric</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653786" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> 朱佳顺</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653972" data-role="relative-time" class="time-ago" title="Thursday, February 4, 2016 10:37 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>光顾着研究C-String了....忘记后面的||了..... thanks...[ali转圈哭]</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5uc" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653972">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li class="post" id="post-3004652093"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ygxqqx</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652093" data-role="relative-time" class="time-ago" title="Monday, January 25, 2016 1:58 PM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>DEBUG src/zaver.c:147: ## ready to accept<br>DEBUG src/zaver.c:161: new connection fd 5<br>DEBUG src/zaver.c:147: ## ready to accept<br>DEBUG src/zaver.c:176: ## end accept<br>[INFO] (src/zaver.c:189) new task from fd 5<br>DEBUG src/http.c:46: ROOT=/home/ygxqqx/nihao<br>[INFO] (src/http.c:69) ready to parse request line<br>[ERROR] (src/http.c:74: errno: None) rc != ZV_OK<br>在文件夹下放了个html文件在浏览器里显示不出来，终端显示上面的<br>一些情况</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4e5" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652093">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653303"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ygxqqx</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652093" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ygxqqx</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653303" data-role="relative-time" class="time-ago" title="Monday, January 25, 2016 2:00 PM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>正在初学中有点不懂啊，麻烦学长帮忙看看</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5br" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653303">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653584"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ygxqqx</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653303" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ygxqqx</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653584" data-role="relative-time" class="time-ago" title="Monday, January 25, 2016 2:13 PM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>显示出来了我把https改为http就好了</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5jk" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653584">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li></ul>
</li><li class="post" id="post-3004652091"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ric</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652091" data-role="relative-time" class="time-ago" title="Thursday, January 21, 2016 9:47 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container" style="height: 374px;">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>有bug啊 centos6.6下 配置文件里的路径解析出错  zaver.conf改为 /home/ric/www 并且在www目录内建立index.html文件 结果报404</p><p>404: Not Found</p><p>zaver can't find the file: /home/ric/www/ HTTP/1.1 Host: 127.0.0.1:3000 User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Firefox/31.0 Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8 Accept-Language: zh-cn,zh;q=0.8,en-us;q=0.5,en;q=0.3 Accept-Encoding: gzip, deflate Connection: keep-alive Cache-Control: max-age=0</p><p>[INFO] (src/zaver.c:189) new task from fd 5<br>DEBUG src/http.c:46: ROOT=/home/ric/www<br>[INFO] (src/http.c:54) read return 0, ready to close fd 5<br>DEBUG src/zaver.c:147: ## ready to accept<br>DEBUG src/zaver.c:161: new connection fd 5<br>DEBUG src/zaver.c:147: ## ready to accept<br>DEBUG src/zaver.c:176: ## end accept<br>[INFO] (src/zaver.c:189) new task from fd 5<br>DEBUG src/http.c:46: ROOT=/home/ric/www<br>[INFO] (src/http.c:69) ready to parse request line<br>[INFO] (src/http.c:78) method == GET<br>[INFO] (src/http.c:79) uri == /<br>[INFO] (src/http.c:81) ready to parse request body<br>[INFO] (src/http.c:165) filename = /home/ric/www/ HTTP/1.1<br>Host: 127.0.0.1:3000<br>User-Agent: Mozilla/5.0 (X11; Linux x86_64; rv:31.0) Gecko/20100101 Firefox/31.0<br>Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8<br>Accept-Language: zh-cn,zh;q=0.8,en-us;q=0.5,en;q=0.3<br>Accept-Encoding: gzip, deflate<br>Connection: keep-alive<br>Cache-Control: max-age=0</p><p>[INFO] (src/http.c:187) leave clienterror</p><p>[INFO] (src/zaver.c:189) new task from fd 5<br>DEBUG src/http.c:46: ROOT=/home/ric/www<br>[INFO] (src/http.c:54) read return 0, ready to close fd 5</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4e3" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652091">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653301"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ric</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652091" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ric</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653301" data-role="relative-time" class="time-ago" title="Friday, January 22, 2016 9:30 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>博主 你的prase_uri函数里面用了index rindex函数 这些不是c的标准函数而是posix的,这在不同的操作系统里面会不会有问题?</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5bp" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653301">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653580"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653301" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ric</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653580" data-role="relative-time" class="time-ago" title="Friday, January 22, 2016 11:31 PM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>你说的对，我之后会改成strchr和strrchr</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5jg" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653580">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653582"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ric</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653580" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> 朱佳顺</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653582" data-role="relative-time" class="time-ago" title="Saturday, January 23, 2016 9:47 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>可以运行了  谢谢博主让我学到不少知识!</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5ji" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653582">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li><li class="post" id="post-3004653579"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">ric</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653301" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ric</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653579" data-role="relative-time" class="time-ago" title="Friday, January 22, 2016 9:46 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>真是奇怪 我在台式机AMD的cpu就可以,换成笔记本intel的cpu 就会出现uri解析出错....</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5jf" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653579">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653780"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653579" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ric</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653780" data-role="relative-time" class="time-ago" title="Saturday, January 23, 2016 12:19 AM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>我刚刚检查了一下，项目有一个pull request出了一个bug，被merge进来了，所以可能导致你说的问题，你再拉一下代码试一下应该可以了</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5p0" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653780">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-3004653779"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653579" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> ric</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653779" data-role="relative-time" class="time-ago" title="Friday, January 22, 2016 11:30 PM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>最好在linux下运行，和cpu厂商没有关系</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5oz" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653779">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li></ul>
</li></ul>
</li><li class="post" id="post-3004652090"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">eee</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652090" data-role="relative-time" class="time-ago" title="Wednesday, January 13, 2016 12:18 PM">
a year ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>准备对着代码敲一遍 学习了 谢谢博主嘞</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4e2" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652090">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li><li class="post" id="post-3004652089"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">asker</span>

</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652089" data-role="relative-time" class="time-ago" title="Tuesday, September 8, 2015 4:32 AM">
2 years ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>楼主你好，我在linux里面运行了你的web server，只出现了四个[INFO]句，然后就没有然后了。。。求问怎么解决这个问题啊</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow4e1" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004652089">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653299"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004652089" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> asker</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653299" data-role="relative-time" class="time-ago" title="Thursday, September 10, 2015 3:01 AM">
2 years ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>你好。能不能提供一些更详细的信息？</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5bn" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653299">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653585"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">asker</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653299" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> 朱佳顺</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653585" data-role="relative-time" class="time-ago" title="Thursday, September 10, 2015 4:21 AM">
2 years ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>azureuser@ubuntutodo:~/zaver$ ./objs/zaver -c zaver.conf<br>DEBUG src/zaver.c:71: conffile = zaver.conf<br>[INFO] (src/threadpool.c:53) thread: 69a56700 started<br>[INFO] (src/threadpool.c:53) thread: 69255700 started<br>[INFO] (src/threadpool.c:53) thread: 68a54700 started<br>[INFO] (src/threadpool.c:53) thread: 68253700 started</p><p>就是出现上面的，然后就卡住了，输不了命令了，只好ctrl+c退出才可以，求解这是为什么呢</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5jl" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653585">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"><li class="post" id="post-3004653776"><div role="alert"></div>
<div data-role="post-content" class="post-content">
<ul class="post-menu dropdown" data-role="menu">
<li class="collapse">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Collapse"><span>−</span></a>
</li>
<li class="expand">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="collapse" title="Expand"><span>+</span></a>
</li>

<li class="" role="menu">
<a class="dropdown-toggle" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="flag" data-role="flag" title="Flag as inappropriate">
<i aria-hidden="true" class="icon icon-flag"></i>
</a>
</li>
</ul>

<div class="indicator"></div>

<div class="avatar">
<div class="user"><img src="./noavatar92.png" class="user" alt="Avatar"></div>
</div>

<div class="post-body">
<header class="comment__header">
<span class="post-byline">
<span class="author">朱佳顺</span>

<span><a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653585" class="parent-link" data-role="parent-link"><i aria-hidden="true" class="icon-forward" title="in reply to"></i> asker</a></span>
</span>

<span class="post-meta">
<span class="bullet time-ago-bullet" aria-hidden="true">•</span>

<a href="http://lifeofzjs.com/blog/2015/05/16/how-to-write-a-server/#comment-3004653776" data-role="relative-time" class="time-ago" title="Thursday, September 10, 2015 4:28 AM">
2 years ago
</a>
</span>

</header>

<div class="post-body-inner">
<div class="post-message-container" data-role="message-container">
<div class="publisher-anchor-color" data-role="message-content">
<div class="post-message " data-role="message" dir="auto">
<p>因为这个进程启动了，所以就“卡住了”。你在zaver.conf里设置了正确的网站路径后，就可以通过浏览器访问网站了</p>
</div>

<span class="post-media"><ul data-role="post-media-list"></ul></span>
</div>
</div>
<a class="see-more hidden" title="see more" data-action="see-more">see more</a>
</div>

<footer class="comment__footer"><menu class="comment-footer__menu">
<li class="voting" data-role="voting">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="vote-up  count-0" data-action="upvote" title="Vote up">

<span class="updatable count" data-role="likes">0</span>
<span class="control"><i aria-hidden="true" class="icon icon-arrow-2"></i></span>
</a>
<span role="button" class="vote-down  count-0" data-action="downvote" title="Vote down">

<span class="control"><i aria-hidden="true" class="icon icon-arrow"></i></span>
</span>
</li>
<li class="bullet" aria-hidden="true">•</li>


<li class="reply" data-role="reply-link">
<a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="reply">
<span class="text">Reply</span></a></li>
<li class="bullet" aria-hidden="true">•</li>


<li class="comment__share">
<a class="toggle"><span class="text">Share ›</span></a>
<ul class="comment-share__buttons">
<li class="twitter">
<button class="share__button" data-action="share:twitter">Twitter</button>
</li>
<li class="facebook">
<button class="share__button" data-action="share:facebook">Facebook</button>
</li>
<li class="link">
<input class="share__button" value="http://disq.us/p/1dow5ow" name="Link" title="Click to copy post link" data-action="copy-link" readonly="">
</li>
</ul>
</li>

<li class="realtime" data-role="realtime-notification:3004653776">
<span style="display:none;" class="realtime-replies"></span>
<a style="display:none;" href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" class="realtime-button"></a>
</li>

</menu>
</footer>
</div>

<div data-role="blacklist-form"></div>
<div class="reply-form-container" data-role="reply-form"></div>
</div>

<ul data-role="children" class="children"></ul>
</li></ul>
</li></ul>
</li></ul>
</li></ul><div class="load-more" data-role="more" style=""><a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" data-action="more-posts" class="btn load-more__button">Load more comments</a></div></div></section><div id="placement-bottom" data-tracking-area="discovery-south"><div class="post-list" style="height: auto; visibility: visible;"><div style="display: block; width: 100%;"><div id="discovery-main-c231" class="discovery-main">

<section id="col-organic-c492" class="col-organic">
<header class="discovery-col-header">
<h2>Also on <strong>zyearn's blog</strong>
</h2>
</header>
<ul class="discovery-posts" data-role="discovery-posts"><li class="discovery-post post-0" id="discovery-link-organic-5308316621">
<a href="http://disq.us/url?url=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2016%2F04%2F30%2Fspeech-in-my-high-school%2F%3A4iNjAWdntCcr02JW2eywQmH1BEA&amp;imp=3j7gdq92gfsld4&amp;prev_imp=3j7baaqt9rq8d&amp;forum_id=2491765&amp;forum=zyearnsblog&amp;thread_id=5308187592&amp;thread=5308316621&amp;zone=thread&amp;area=bottom&amp;object_type=thread&amp;object_id=5308316621" class="publisher-anchor-color">

<header class="discovery-post-header">
<h3 title="回高中母校的演讲">
<span data-role="discovery-thread-title" class="title line-truncate" data-line-truncate="2">
回高中母校的演讲
</span>
</h3>

<ul class="meta">
<li class="comments">
3 comments
</li>
<li class="time">6 months ago</li>
</ul>
</header>

</a><a href="http://disq.us/url?url=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2016%2F04%2F30%2Fspeech-in-my-high-school%2F%3A4iNjAWdntCcr02JW2eywQmH1BEA&amp;imp=3j7gdq92gfsld4&amp;prev_imp=3j7baaqt9rq8d&amp;forum_id=2491765&amp;forum=zyearnsblog&amp;thread_id=5308187592&amp;thread=5308316621&amp;zone=thread&amp;area=bottom&amp;object_type=thread&amp;object_id=5308316621" class="top-comment" data-role="discovery-top-comment">
<img alt="Avatar" data-role="discovery-avatar" src="./noavatar92.png">
<p><span class="user" data-role="discovery-top-comment-author">奇虎分享网</span> — <span data-role="discovery-top-comment-snippet" class="line-truncate" data-line-truncate="3">写的不错哈，支持一下</span></p>
</a>

</li>
<li class="discovery-post post-1" id="discovery-link-organic-5308309233">
<a href="http://disq.us/url?url=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2016%2F05%2F01%2Fhow-to-teach-gl-write-code%2F%3AtcpHJo0GmpBxICcalKLTLvhdKBs&amp;imp=3j7gdq92gfsld4&amp;prev_imp=3j7baaqt9rq8d&amp;forum_id=2491765&amp;forum=zyearnsblog&amp;thread_id=5308187592&amp;thread=5308309233&amp;zone=thread&amp;area=bottom&amp;object_type=thread&amp;object_id=5308309233" class="publisher-anchor-color">

<header class="discovery-post-header">
<h3 title="如何教会非计算机专业的女友写代码">
<span data-role="discovery-thread-title" class="title line-truncate" data-line-truncate="2">
如何教会非计算机专业的女友写代码
</span>
</h3>

<ul class="meta">
<li class="comments">
21 comments
</li>
<li class="time">6 months ago</li>
</ul>
</header>

</a><a href="http://disq.us/url?url=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2016%2F05%2F01%2Fhow-to-teach-gl-write-code%2F%3AtcpHJo0GmpBxICcalKLTLvhdKBs&amp;imp=3j7gdq92gfsld4&amp;prev_imp=3j7baaqt9rq8d&amp;forum_id=2491765&amp;forum=zyearnsblog&amp;thread_id=5308187592&amp;thread=5308309233&amp;zone=thread&amp;area=bottom&amp;object_type=thread&amp;object_id=5308309233" class="top-comment" data-role="discovery-top-comment">
<img alt="Avatar" data-role="discovery-avatar" src="./avatar92.jpg">
<p><span class="user" data-role="discovery-top-comment-author">SkyAo</span> — <span data-role="discovery-top-comment-snippet" class="line-truncate" data-line-truncate="3">别人家的男朋友！</span></p>
</a>

</li>
<li class="discovery-post post-2" id="discovery-link-organic-5308316240">
<a href="http://disq.us/url?url=http%3A%2F%2Fzyearn.github.io%2Fblog%2Ftimeline%2Findex.html%3AeRTbWvJ0aGpIhCYvENWRYNTHYpU&amp;imp=3j7gdq92gfsld4&amp;prev_imp=3j7baaqt9rq8d&amp;forum_id=2491765&amp;forum=zyearnsblog&amp;thread_id=5308187592&amp;thread=5308316240&amp;zone=thread&amp;area=bottom&amp;object_type=thread&amp;object_id=5308316240" class="publisher-anchor-color">

<header class="discovery-post-header">
<h3 title="JiashunZhu">
<span data-role="discovery-thread-title" class="title line-truncate" data-line-truncate="2">
JiashunZhu
</span>
</h3>

<ul class="meta">
<li class="comments">
4 comments
</li>
<li class="time">6 months ago</li>
</ul>
</header>

</a><a href="http://disq.us/url?url=http%3A%2F%2Fzyearn.github.io%2Fblog%2Ftimeline%2Findex.html%3AeRTbWvJ0aGpIhCYvENWRYNTHYpU&amp;imp=3j7gdq92gfsld4&amp;prev_imp=3j7baaqt9rq8d&amp;forum_id=2491765&amp;forum=zyearnsblog&amp;thread_id=5308187592&amp;thread=5308316240&amp;zone=thread&amp;area=bottom&amp;object_type=thread&amp;object_id=5308316240" class="top-comment" data-role="discovery-top-comment">
<img alt="Avatar" data-role="discovery-avatar" src="./noavatar92.png">
<p><span class="user" data-role="discovery-top-comment-author">木</span> — <span data-role="discovery-top-comment-snippet" class="line-truncate" data-line-truncate="3">谢谢啦</span></p>
</a>

</li>
<li class="discovery-post post-3" id="discovery-link-organic-5443329773">
<a href="http://disq.us/url?url=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2017%2F01%2F07%2Fhow-to-generate-uniform-distribution%2F%3AAVt11ejyFuAtnbfsG-1hDqpqoyM&amp;imp=3j7gdq92gfsld4&amp;prev_imp=3j7baaqt9rq8d&amp;forum_id=2491765&amp;forum=zyearnsblog&amp;thread_id=5308187592&amp;thread=5443329773&amp;zone=thread&amp;area=bottom&amp;object_type=thread&amp;object_id=5443329773" class="publisher-anchor-color">

<header class="discovery-post-header">
<h3 title="如何生成[0, N)中的随机数">
<span data-role="discovery-thread-title" class="title line-truncate" data-line-truncate="2">
如何生成[0, N)中的随机数
</span>
</h3>

<ul class="meta">
<li class="comments">
1 comment
</li>
<li class="time">4 months ago</li>
</ul>
</header>

</a><a href="http://disq.us/url?url=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2017%2F01%2F07%2Fhow-to-generate-uniform-distribution%2F%3AAVt11ejyFuAtnbfsG-1hDqpqoyM&amp;imp=3j7gdq92gfsld4&amp;prev_imp=3j7baaqt9rq8d&amp;forum_id=2491765&amp;forum=zyearnsblog&amp;thread_id=5308187592&amp;thread=5443329773&amp;zone=thread&amp;area=bottom&amp;object_type=thread&amp;object_id=5443329773" class="top-comment" data-role="discovery-top-comment">
<img alt="Avatar" data-role="discovery-avatar" src="./noavatar92.png">
<p><span class="user" data-role="discovery-top-comment-author">vincentcab</span> — <span data-role="discovery-top-comment-snippet" class="line-truncate" data-line-truncate="3"> [1,5] 里面有4段， ［1，7］ 里面有6段。    …</span></p>
</a>

</li>
</ul>
</section>

</div>
</div></div></div><div id="footer" data-tracking-area="footer" class="disqus-footer__wrapper"><ul class="disqus-footer"><li class="disqus-footer__logo"><a href="https://disqus.com/" rel="nofollow" title="Powered by Disqus" class="disqus-footer__link">Powered by Disqus</a></li><li id="thread-subscribe-button" class="email disqus-footer__item"><div class="default"><a href="https://disqus.com/embed/comments/?base=default&amp;f=zyearnsblog&amp;t_i=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_u=http%3A%2F%2Fzyearn.github.io%2Fblog%2F2015%2F05%2F16%2Fhow-to-write-a-server%2F&amp;t_d=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;t_t=%E5%A6%82%E4%BD%95%E5%86%99%E4%B8%80%E4%B8%AAWeb%E6%9C%8D%E5%8A%A1%E5%99%A8&amp;s_o=default#" rel="nofollow" data-action="subscribe" title="Subscribe and get email updates from this discussion" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-mail"></i><span class="clip">Subscribe</span><i aria-hidden="true" class="icon icon-checkmark"></i></a></div><div class="form"><div class="input-wrapper"><input id="thread-subscribe-email" type="email" placeholder="yourname@email.com" class="disqus-footer__input input--text"></div></div></li><li class="install disqus-footer__item"><a href="https://publishers.disqus.com/engage?utm_source=zyearnsblog&amp;utm_medium=Disqus-Footer" rel="nofollow" target="_blank" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-disqus"></i><span class="clip hidden-sm">Add Disqus to your site</span><span class="clip visible-sm hidden-xs">Add Disqus</span><span class="clip visible-xs">Add</span></a></li><li class="privacy disqus-footer__item"><a href="https://help.disqus.com/customer/portal/articles/1657951?utm_source=disqus&amp;utm_medium=embed-footer&amp;utm_content=privacy-btn" rel="nofollow" target="_blank" class="disqus-footer__link"><i aria-hidden="true" class="icon icon-lock"></i><span class="clip">Privacy</span></a></li></ul></div></div><div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" allowfullscreen="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./87XNE1PC38r.html" style="border: none;"></iframe></div></div></div><iframe style="position: absolute; width: 1px; height: 1px; left: -9999px; display: none;" aria-hidden="true" id="ssIFrame_google" sandbox="allow-scripts allow-same-origin" src="./iframe.html"></iframe><img src="./tpid=c7t9t7n333ev5q9" style="display: none;"><img src="./23096" style="display: none;"><img src="./saved_resource" style="display: none;"><iframe src="./sync.html" style="display: none;"></iframe><img src="./saved_resource(1)" style="display: none;"></body></html>